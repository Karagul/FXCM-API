

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Core Concepts &mdash; FXCM API Developer Documentation 1.0 documentation</title>
  

  
  
  
  

  

  
  
    

  

  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="JAVA API Specifications" href="../javaapi.html" />
    <link rel="prev" title="FIX API Specifications" href="fixapi.html" /> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> FXCM API Developer Documentation
          

          
            
            <img src="../_static/fxcm-blue-2.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">REST API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../restapi.html">REST API Specifications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../restapi.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../restapi.html#connect">Connect</a></li>
<li class="toctree-l2"><a class="reference internal" href="../restapi.html#subscribe-vs-snapshot">Subscribe vs Snapshot</a></li>
<li class="toctree-l2"><a class="reference internal" href="../restapi.html#orderid-vs-tradeid">OrderID vs TradeID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../restapi.html#candle-request-limit">Candle Request Limit</a></li>
<li class="toctree-l2"><a class="reference internal" href="../restapi.html#placing-trailing-stops">Placing Trailing Stops</a></li>
<li class="toctree-l2"><a class="reference internal" href="../restapi.html#account-name-vs-account-id">Account Name vs Account ID</a></li>
<li class="toctree-l2"><a class="reference internal" href="../restapi.html#offer-ids">Offer Ids</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fxcmpy.html">FXCMPY Python Wrapper</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fxcmpy.html#demo-account">Demo Account</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fxcmpy.html#package-installation">Package Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fxcmpy.html#api-token">API Token</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fxcmpy.html#configuration-file">Configuration file</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fxcmpy.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fxcmpy.html#fxcmpy-wrapper-sample-code">fxcmpy wrapper Sample Code</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../fxcmrest.html">REST Sample Codes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../fxcmrest.html#connecting">Connecting</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fxcmrest.html#technical-analysis-sample-codes">Technical Analysis Sample Codes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fxcmrest.html#php">PHP</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#requirements">Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#installation">Installation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#usage">Usage</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#configuration-parameters">Configuration Parameters</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#functions">Functions</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#signals">Signals</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#php-sample-code">PHP Sample Code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../fxcmrest.html#python">Python</a><ul>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#getting-started">Getting started</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#using-jupyter-notebook">Using Jupyter Notebook</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#details">Details</a></li>
<li class="toctree-l3"><a class="reference internal" href="../fxcmrest.html#candles">Candles</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">FIX API</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="fixapi.html">FIX API Specifications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="fixapi.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="fixapi.html#connecting">Connecting</a></li>
<li class="toctree-l2"><a class="reference internal" href="fixapi.html#marketdata">Marketdata</a></li>
<li class="toctree-l2"><a class="reference internal" href="fixapi.html#table">Table</a></li>
<li class="toctree-l2"><a class="reference internal" href="fixapi.html#order">Order</a></li>
<li class="toctree-l2"><a class="reference internal" href="fixapi.html#fix-sample-solutions-and-projects">FIX Sample Solutions and Projects</a><ul>
<li class="toctree-l3"><a class="reference internal" href="fixapi.html#c-fix-example">C++ FIX Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixapi.html#c-quickfix-example-vs2017-with-x64">C++ QuickFIX Example VS2017 with x64</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixapi.html#c-net-fix-example">C# .NET FIX Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixapi.html#java-fix-example">Java FIX Example</a></li>
<li class="toctree-l3"><a class="reference internal" href="fixapi.html#c-lamm-trading-example">C++ LAMM Trading Example</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Core Concepts</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#tradingsessionstatusrequest-g">TradingSessionStatusRequest (g)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#tradingsessionstatus-message-h">TradingSessionStatus Message (h)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#collateralinquiry-bb">CollateralInquiry (BB)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#requesting-market-data">Requesting Market Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="#getting-positions">Getting Positions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#open-position-vs-closed-position">Open Position vs. Closed Position</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#open-positions">Open Positions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#closed-positions">Closed Positions</a></li>
<li class="toctree-l4"><a class="reference internal" href="#position-margin">Position Margin</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#overview-of-basic-order-and-time-in-force-types">Overview of Basic Order and Time-In-Force Types</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#time-in-force-tif-types">Time-In-Force (TIF) Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#good-til-cancel-gtc">Good Til Cancel (GTC)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#day">Day</a></li>
<li class="toctree-l4"><a class="reference internal" href="#immediate-or-cancel-ioc">Immediate or Cancel (IOC)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fill-or-kill-fok">Fill or Kill (FOK)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#order-types">Order Types</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#market">Market</a></li>
<li class="toctree-l4"><a class="reference internal" href="#market-range-stop-limit">Market Range (Stop-Limit)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#limit">Limit</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gtc-day-limit-order">GTC/Day Limit Order</a></li>
<li class="toctree-l4"><a class="reference internal" href="#ioc-fok-limit-order">IOC/FOK Limit Order</a></li>
<li class="toctree-l4"><a class="reference internal" href="#stop">Stop</a></li>
<li class="toctree-l4"><a class="reference internal" href="#gtc-and-day">GTC and DAY</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#handling-of-partial-fills">Handling of Partial Fills</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#order-quantity-fields">Order Quantity Fields</a></li>
<li class="toctree-l3"><a class="reference internal" href="#example-partial-fill">Example Partial Fill</a></li>
<li class="toctree-l3"><a class="reference internal" href="#closing-a-position">Closing A Position</a></li>
<li class="toctree-l3"><a class="reference internal" href="#sending-a-closing-order">Sending A Closing Order</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#getting-account-position-maintenance">Getting Account Position Maintenance</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#getting-position-maintenance-in-code">Getting Position Maintenance in Code</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#when-to-reset-msgseqnum">When To Reset MsgSeqNum</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#reset-on-logon">Reset On Logon</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#account-equity">Account Equity</a></li>
<li class="toctree-l2"><a class="reference internal" href="#startcash-921">StartCash(921)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#steps-to-retrieve-short-version-of-market-price">Steps To Retrieve Short Version Of Market Price</a></li>
<li class="toctree-l2"><a class="reference internal" href="#emf">EMF</a></li>
<li class="toctree-l2"><a class="reference internal" href="#execution-disclaimer">Execution Disclaimer</a></li>
<li class="toctree-l2"><a class="reference internal" href="#frequently-asked-questions">Frequently Asked Questions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#error-messages-received">1. Error Messages received</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#a-ora-20103-session-expired">a. ORA-20103: Session expired</a></li>
<li class="toctree-l4"><a class="reference internal" href="#b-ora-20143-order-price-too-far-from-market-price">b. ORA-20143: Order price too far from market price</a></li>
<li class="toctree-l4"><a class="reference internal" href="#c-ora-20112-limit-price-did-not-pass-validation">c. ORA-20112: Limit price did not pass validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#d-ora-20113-insufficient-margin-in-session">d. ORA-20113: Insufficient margin in session</a></li>
<li class="toctree-l4"><a class="reference internal" href="#e-ora-20102-access-violation">e. ORA-20102: Access Violation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#f-ora-20105-order-price-did-not-pass-validation">f. ORA-20105: Order price did not pass validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#g-ora-20008-failed-to-create-order-primary-validation">g. ORA-20008: Failed to create order, primary validation</a></li>
<li class="toctree-l4"><a class="reference internal" href="#h-tag-specified-out-of-required-order">h. tag specified out of required order</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#how-can-i-tell-what-account-type-i-have">2. How can I tell what account type I have?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#limit-order-day-order-vs-limit-ioc-fok">3. Limit order Day order vs Limit IOC/FOK</a></li>
<li class="toctree-l3"><a class="reference internal" href="#what-is-the-base-unit-size-also-the-minimum-trade-size-for-all-fx-instruments">4. What is the Base Unit Size (also the minimum trade size) for all FX instruments?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-can-i-get-positions-side-and-quantity-from-open-position-report">5. How can I get Positions side and quantity from open position report?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-can-i-get-closed-positions">6. How can I get closed positions?</a></li>
<li class="toctree-l3"><a class="reference internal" href="#how-can-i-close-open-positions">7. How can I close open positions?</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#sample-code-in-c">Sample Code in C++</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#get-fxcm-system-parameters-c">1. Get FXCM System Parameters: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-rollover-interest-c">2. Get Rollover Interest: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#determine-hedging-status-c">3. Determine Hedging Status: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subscribe-to-a-symbol-c">4. Subscribe to a Symbol: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#subscribe-to-all-symbols-c">5. Subscribe to All Symbols: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-market-order-c">6. Create Market Order: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-market-range-order-c">7. Create Market Range Order: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-entry-pending-order-c">8. Create Entry (Pending) Order: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-one-cancels-other-oco-order-c">9. Create One-Cancels-Other (OCO) Order: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-entry-with-limit-and-stop-els-order-c">10. Create Entry with Limit and Stop (ELS) Order: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#create-market-order-with-trailing-stop-c">11. Create Market Order with Trailing Stop: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-order-status-and-executed-amount-c">12. Get Order Status and Executed Amount: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#request-all-open-positions-c">13. Request All Open Positions: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#request-open-positions-for-a-single-account-c">14. Request Open Positions for a Single Account: C++</a></li>
<li class="toctree-l3"><a class="reference internal" href="#get-all-waiting-orders-c">15. Get All Waiting Orders: C++</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#fxcm-custom-fields">FXCM Custom fields</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#from-tradingsessionstatus-h">From TradingSessionStatus(h):</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#fxcmsymprecision-9001">FXCMSymPrecision (9001)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmsympointsize-9002">FXCMSymPointSize (9002)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmsyminterestbuy-9003">FXCMSymInterestBuy (9003)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmsyminterestsell-9004">FXCMSymInterestSell (9004)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmproductid-9080">FXCMProductID (9080)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmconddiststop-9090">FXCMCondDistStop (9090)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmconddistlimit-9091">FXCMCondDistLimit (9091)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmconddistentrystop-9092">FXCMCondDistEntryStop (9092)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmconddistentrylimit-9093">FXCMCondDistEntryLimit (9093)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmmaxquantity-9094">FXCMMaxQuantity (9094)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmminquantity-9095">FXCMMinQuantity (9095)</a></li>
<li class="toctree-l4"><a class="reference internal" href="#fxcmtradingstatus-9096">FXCMTradingStatus (9096)</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#from-marketdatasnapshotfullrefresh-w">From MarketDataSnapshotFullRefresh(W):</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#trading-status">Trading Status</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#field-quotetype-537">Field: QuoteType(537)</a></li>
<li class="toctree-l5"><a class="reference internal" href="#field-quotecondition-276">Field: QuoteCondition(276)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#from-collateralreport-ba">From CollateralReport(BA):</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#minimum-order-qty-forex">Minimum Order Qty. - Forex</a><ul>
<li class="toctree-l5"><a class="reference internal" href="#field-quantity-53">Field: Quantity(53)</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#fxcm-system-parameters">FXCM System Parameters:</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#base-crncy">BASE_CRNCY</a></li>
<li class="toctree-l4"><a class="reference internal" href="#server-time-utc">SERVER_TIME_UTC</a></li>
<li class="toctree-l4"><a class="reference internal" href="#base-time-zone">BASE_TIME_ZONE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cond-dist">COND_DIST</a></li>
<li class="toctree-l4"><a class="reference internal" href="#cond-dist-entry">COND_DIST_ENTRY</a></li>
<li class="toctree-l4"><a class="reference internal" href="#base-unit-size">BASE_UNIT_SIZE</a></li>
<li class="toctree-l4"><a class="reference internal" href="#end-trading-day">END_TRADING_DAY</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Java API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../javaapi.html">JAVA API Specifications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../javaapi.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../javaapi.html#running-qatest-java">Running QATest.java</a></li>
<li class="toctree-l2"><a class="reference internal" href="../javaapi.html#login">Login</a></li>
<li class="toctree-l2"><a class="reference internal" href="../javaapi.html#rollover">Rollover</a></li>
<li class="toctree-l2"><a class="reference internal" href="../javaapi.html#sample-codes">Sample Codes</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">ForexConnect API</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../forexconnectapi.html">ForexConnect API Specifications</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../forexconnectapi.html#getting-started">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../forexconnectapi.html#top-development-platform-ides">Top Development Platform IDEs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../forexconnectapi.html#table-manager-vs-non-table-manager">Table manager vs Non-table manager</a></li>
<li class="toctree-l2"><a class="reference internal" href="../forexconnectapi.html#request-current-balance">Request Current Balance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../forexconnectapi.html#retrieve-price-history">Retrieve Price History</a></li>
<li class="toctree-l2"><a class="reference internal" href="../forexconnectapi.html#sample-codes">Sample Codes</a></li>
</ul>
</li>
</ul>
<p class="caption"><span class="caption-text">Market Data</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../marketdata.html">Marketdata Download Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../marketdata.html#tickdata">TickData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../marketdata.html#candledata">CandleData</a></li>
<li class="toctree-l2"><a class="reference internal" href="../marketdata.html#order-flow">Order Flow</a></li>
<li class="toctree-l2"><a class="reference internal" href="../marketdata.html#sentiment">Sentiment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../marketdata.html#volume">Volume</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../license.html">License</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FXCM API Developer Documentation</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
      <li>Core Concepts</li>
    
    

  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="core-concepts">
<h1>Core Concepts<a class="headerlink" href="#core-concepts" title="Permalink to this headline">¶</a></h1>
<div class="section" id="tradingsessionstatusrequest-g">
<h2>TradingSessionStatusRequest (g)<a class="headerlink" href="#tradingsessionstatusrequest-g" title="Permalink to this headline">¶</a></h2>
<p>After successful authentication, it is necessary to receive an update on the status of the market (open or closed), common system parameters, and a list of securities with their characteristics. The <code class="docutils literal notranslate"><span class="pre">TradingSessionStatus</span></code> message is returned as a response to the <code class="docutils literal notranslate"><span class="pre">TradingSessionStatusRequest</span></code> and it accomplishes these things.</p>
</div>
<div class="section" id="tradingsessionstatus-message-h">
<h2>TradingSessionStatus Message (h)<a class="headerlink" href="#tradingsessionstatus-message-h" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">TradingSessionStatus</span></code> message is used to provide an update on the status of the market. Furthermore, this message contains useful system parameters as well as information about each trading security (embedded <code class="docutils literal notranslate"><span class="pre">SecurityList</span></code>).</p>
<p><code class="docutils literal notranslate"><span class="pre">TradingSessionStatus</span></code> should be requested upon successful <code class="docutils literal notranslate"><span class="pre">Logon</span></code> and subscribed to. The contents of the <code class="docutils literal notranslate"><span class="pre">TradingSessionStatus</span></code> message, specifically the <code class="docutils literal notranslate"><span class="pre">SecurityList</span></code> and system parameters, should dictate how fields are set when sending messages to FXCM. For example, the instrument component within <code class="docutils literal notranslate"><span class="pre">SecurityList</span></code> indicates minimum order quantity <code class="docutils literal notranslate"><span class="pre">9095</span></code>. Subsequent <code class="docutils literal notranslate"><span class="pre">NewOrderSingle</span> <span class="pre">(D)</span></code> messages should not violate this value when setting the <code class="docutils literal notranslate"><span class="pre">OrderQty</span> <span class="pre">field</span> <span class="pre">(38)</span></code>.</p>
<ul class="simple">
<li>Requesting <code class="docutils literal notranslate"><span class="pre">TradingSessionStatus</span></code></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">TradingSessionStatusRequest</span> <span class="n">request</span><span class="p">;</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TradSesReqID</span><span class="p">(</span><span class="n">NextId</span><span class="p">()));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">SubscriptionRequestType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">SubscriptionRequestType_SNAPSHOT_PLUS_UPDATES</span><span class="p">));</span>
</pre></div>
</div>
<ul class="simple">
<li>Reading System Parameters</li>
</ul>
<p>Here we demonstrate how to extract the FXCM system properties from the <code class="docutils literal notranslate"><span class="pre">TradingSessionStatus</span></code> message. The code below will print out the name and value of the each of the properties. The following custom fields are used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">9016</span> <span class="o">-</span> <span class="n">FXCMNoParam</span>
<span class="mi">9017</span> <span class="o">-</span> <span class="n">FXCMParamName</span>
<span class="mi">9018</span> <span class="o">-</span> <span class="n">FXCMParamValue</span>
<span class="nb">int</span> <span class="n">param_count</span> <span class="o">=</span> <span class="n">FIX</span><span class="p">::</span><span class="n">IntConvertor</span><span class="p">::</span><span class="n">convert</span><span class="p">(</span><span class="n">status</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="mi">9016</span><span class="p">));</span>

<span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;TSS - FXCM System Parameters&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="k">for</span><span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">param_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
         <span class="n">FIX</span><span class="p">::</span><span class="n">FieldMap</span> <span class="nb">map</span> <span class="o">=</span> <span class="n">status</span><span class="o">.</span><span class="n">getGroupRef</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="mi">9016</span><span class="p">);</span>
         <span class="n">string</span> <span class="n">param_name</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="mi">9017</span><span class="p">);</span>
         <span class="n">string</span> <span class="n">param_value</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="mi">9018</span><span class="p">);</span>

         <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">param_name</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot; - &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">param_value</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">FIX</span><span class="p">::</span><span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">request</span><span class="p">,</span><span class="n">session_id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="collateralinquiry-bb">
<h2>CollateralInquiry (BB)<a class="headerlink" href="#collateralinquiry-bb" title="Permalink to this headline">¶</a></h2>
<p>CollateralInquiry is used to request the <code class="docutils literal notranslate"><span class="pre">CollateralReport(BA)</span></code> message from FXCM. This message contains important account related information such as the account number. With the exception of FIX sessions used solely for market data, you should include this message in your login sequence.</p>
<p>The login you use to connect will have access to one or more trading accounts. You will receive a <code class="docutils literal notranslate"><span class="pre">CollateralReport</span></code> for each of these accounts. When sending or modifying orders, you must set the <code class="docutils literal notranslate"><span class="pre">Account(1)</span></code> tag. This tag value must be set only to an account that you have actually received a <code class="docutils literal notranslate"><span class="pre">CollateralReport</span></code> for, otherwise you will see a rejection.</p>
</div>
<div class="section" id="requesting-market-data">
<h2>Requesting Market Data<a class="headerlink" href="#requesting-market-data" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">MarketDataSnapshotFullRefresh(W)</span></code> message contains the updates to market data. It is obtained as a response to the <code class="docutils literal notranslate"><span class="pre">MarketDataRequest(V)</span></code> message. FIX connections are then subscription based for the market data; meaning, you must request it to receive it.</p>
<p>The types of data you can receive, such as the Bid price or Offer price, are referred to as <code class="docutils literal notranslate"><span class="pre">MDEntryTypes</span></code> in FIX. FXCM supports the following <code class="docutils literal notranslate"><span class="pre">MDEntryTypes</span></code> in each message: <code class="docutils literal notranslate"><span class="pre">Bid(0)</span></code>, <code class="docutils literal notranslate"><span class="pre">Offer(1)</span></code>, <code class="docutils literal notranslate"><span class="pre">High</span> <span class="pre">Price(7)</span></code>, and <code class="docutils literal notranslate"><span class="pre">Low</span> <span class="pre">Price(8)</span></code>. Additional <code class="docutils literal notranslate"><span class="pre">MDEntryTypes</span></code> such as <code class="docutils literal notranslate"><span class="pre">MDEntryDate</span></code>, <code class="docutils literal notranslate"><span class="pre">MDEntryTime</span></code>, <code class="docutils literal notranslate"><span class="pre">QuoteCondition</span></code>, etc., are found only once within the first repeating group of the message.</p>
<ul class="simple">
<li>Sending MarketDataRequest(V) Message</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">MarketDataRequest</span> <span class="n">mdr</span><span class="p">;</span>

<span class="n">mdr</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">MDReqID</span><span class="p">(</span><span class="n">NextId</span><span class="p">()));</span>
<span class="n">mdr</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">SubscriptionRequestType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">SubscriptionRequestType_SNAPSHOT_PLUS_UPDATES</span><span class="p">));</span>
<span class="n">mdr</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">MarketDepth</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<span class="n">mdr</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">NoMDEntryTypes</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">MarketDataRequest</span><span class="p">::</span><span class="n">NoMDEntryTypes</span> <span class="n">types_group</span><span class="p">;</span>
<span class="n">types_group</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">MDEntryType_BID</span><span class="p">));</span>
<span class="n">mdr</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">types_group</span><span class="p">);</span>
<span class="n">types_group</span><span class="o">.</span><span class="n">set</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">MDEntryType_OFFER</span><span class="p">));</span>
<span class="n">mdr</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">types_group</span><span class="p">);</span>

<span class="nb">int</span> <span class="n">no_sym</span> <span class="o">=</span> <span class="n">FIX</span><span class="p">::</span><span class="n">IntConvertor</span><span class="p">::</span><span class="n">convert</span><span class="p">(</span><span class="n">security_list</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">FIELD</span><span class="p">::</span><span class="n">NoRelatedSym</span><span class="p">));</span>
<span class="k">for</span><span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">no_sym</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span>
<span class="p">{</span>
   <span class="n">FIX44</span><span class="p">::</span><span class="n">SecurityList</span><span class="p">::</span><span class="n">NoRelatedSym</span> <span class="n">sym_group</span><span class="p">;</span>
   <span class="n">mdr</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">security_list</span><span class="o">.</span><span class="n">getGroup</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">sym_group</span><span class="p">));</span>
<span class="p">}</span>

<span class="n">FIX</span><span class="p">::</span><span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">mdr</span><span class="p">,</span><span class="n">session_id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="getting-positions">
<h2>Getting Positions<a class="headerlink" href="#getting-positions" title="Permalink to this headline">¶</a></h2>
<p>Open and closed positions are retrieved through the <code class="docutils literal notranslate"><span class="pre">PositionReport(AP)</span></code> message. Unlike the <code class="docutils literal notranslate"><span class="pre">ExecutionReport(8)</span></code> message which contains information relating to orders, the <code class="docutils literal notranslate"><span class="pre">PositionReport</span></code> is not automatically sent to your FIX client. You can make individual requests for <code class="docutils literal notranslate"><span class="pre">PositionReport</span></code>, or you can subscribe to updates on this message. Sending a <code class="docutils literal notranslate"><span class="pre">RequestForPositions(AN)</span></code> message with <code class="docutils literal notranslate"><span class="pre">SubscriptionRequestType(263)</span></code> set to <code class="docutils literal notranslate"><span class="pre">1</span> <span class="pre">(SnapshotAndUpdates)</span></code> will subscribe to updates.</p>
<div class="section" id="open-position-vs-closed-position">
<h3>Open Position vs. Closed Position<a class="headerlink" href="#open-position-vs-closed-position" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">PosReqType(724)</span></code> is used to determine if a received <code class="docutils literal notranslate"><span class="pre">PositionReport</span></code> represents an open position or closed position. A value of <code class="docutils literal notranslate"><span class="pre">0</span></code> indicates an open position while a value of <code class="docutils literal notranslate"><span class="pre">1</span></code> indicates a closed position.</p>
<div class="section" id="open-positions">
<h4>Open Positions<a class="headerlink" href="#open-positions" title="Permalink to this headline">¶</a></h4>
<p>When a <code class="docutils literal notranslate"><span class="pre">PositionReport</span></code> representing an open position is sent to you, it will contain the price at which the position was opened. This can be seen using <code class="docutils literal notranslate"><span class="pre">SettlPrice(730)</span></code>. The close price and the P/L of the position are not present given that the position is open. Close price and P/L are real-time calculated values and are not contain in any <code class="docutils literal notranslate"><span class="pre">PositionReport</span></code> where <code class="docutils literal notranslate"><span class="pre">PosReqType(724)</span> <span class="pre">=</span> <span class="pre">0</span></code> (Open Position).</p>
</div>
<div class="section" id="closed-positions">
<h4>Closed Positions<a class="headerlink" href="#closed-positions" title="Permalink to this headline">¶</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">PositionReport</span></code> messages representing closed positions will include the price at which the position was closed, as well as other useful information such as P/L. The following additional tags are present:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Tag                                                     Description
FXCMPosClosePNL (9052)          Gross P/L of the position; e.g., $24.17, or €43.72
FXCMPosInterest (9040)          Rollover interest applied to the position
FXCMPosCommission (9053)        Commission applied to the position
FXCMCloseSettlPrice (9043)      Close price of the position
</pre></div>
</div>
</div>
<div class="section" id="position-margin">
<h4>Position Margin<a class="headerlink" href="#position-margin" title="Permalink to this headline">¶</a></h4>
<p>The margin applied to each individual position can be obtained from a <code class="docutils literal notranslate"><span class="pre">PositionReport</span></code> representing an open position. <code class="docutils literal notranslate"><span class="pre">FXCMUsedMargin(9038)</span></code> will contain this margin value. Note that the total margin required for an account can be obtained by this same tag from the <code class="docutils literal notranslate"><span class="pre">CollateralReport(BA)</span></code> message.</p>
</div>
</div>
</div>
<div class="section" id="overview-of-basic-order-and-time-in-force-types">
<h2>Overview of Basic Order and Time-In-Force Types<a class="headerlink" href="#overview-of-basic-order-and-time-in-force-types" title="Permalink to this headline">¶</a></h2>
<div class="section" id="time-in-force-tif-types">
<h3>Time-In-Force (TIF) Types<a class="headerlink" href="#time-in-force-tif-types" title="Permalink to this headline">¶</a></h3>
<p>The <code class="docutils literal notranslate"><span class="pre">Time-In-Force(59)</span></code> Tag is used to indicate how long an order should remain active before it is either executed by the broker or cancelled by the client. Below are the four TIF values with descriptions.</p>
<div class="section" id="good-til-cancel-gtc">
<h4>Good Til Cancel (GTC)<a class="headerlink" href="#good-til-cancel-gtc" title="Permalink to this headline">¶</a></h4>
<p>Orders with this TIF value remain open and active until fully executed or cancelled. This means that the order remains active until the entire order amount is executed.</p>
<p><strong>When to use GTC</strong></p>
<p>Use GTC when your order must remain active until it can be filled
Use GTC when your entire order must get filled</p>
</div>
<div class="section" id="day">
<h4>Day<a class="headerlink" href="#day" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>Orders with this TIF value will remain open and active until fully executed, cancelled by the client, or when the trading day ends. Like Good Til Cancel (GTC), this means the order will remain active until the entire order amount is executed, unless the order is cancelled or the trading day ends.</div></blockquote>
<p><strong>When to use Day</strong></p>
<p>Use Day when your original intention for the order becomes obsolete with time.</p>
</div>
<div class="section" id="immediate-or-cancel-ioc">
<h4>Immediate or Cancel (IOC)<a class="headerlink" href="#immediate-or-cancel-ioc" title="Permalink to this headline">¶</a></h4>
<p>Orders with this TIF value will immediately attempt to execute as much of your order as possible and cancel any remaining amount if necessary. As a result, this TIF value will allow partial fills.</p>
<p><strong>When to use IOC</strong></p>
<p>Use IOC when you expect execution to take place immediately
Use IOC when it is acceptable if your entire order does not get filled</p>
</div>
<div class="section" id="fill-or-kill-fok">
<h4>Fill or Kill (FOK)<a class="headerlink" href="#fill-or-kill-fok" title="Permalink to this headline">¶</a></h4>
<p>Orders with this TIF value will attempt to execute the entire order amount immediately. If the entire order amount cannot be executed, the order is cancelled.</p>
<p><strong>When to use FOK</strong></p>
<p>Use FOK when you expect execution to take place immediately
Use FOK when your entire order must get filled</p>
</div>
</div>
<div class="section" id="order-types">
<h3>Order Types<a class="headerlink" href="#order-types" title="Permalink to this headline">¶</a></h3>
<div class="section" id="market">
<h4>Market<a class="headerlink" href="#market" title="Permalink to this headline">¶</a></h4>
<p>A market order is an order to buy or sell immediately at the next available price. This means that the order is not guaranteed to fill at any specific price.</p>
<p><strong>When to Use Market</strong></p>
<p>Use market when your order being filled is more important than the price it is filled at.</p>
<p><strong>Supported TIF Values</strong></p>
<p>GTC, DAY, IOC, and FOK</p>
</div>
<div class="section" id="market-range-stop-limit">
<h4>Market Range (Stop-Limit)<a class="headerlink" href="#market-range-stop-limit" title="Permalink to this headline">¶</a></h4>
<p>Market range is a market order that comes with a limitation on the price at which the order can be filled. In other words, it is a market order with a protection against slippage (price deviation).</p>
<p>In FIX terms, you can convert a market order to a market range order by setting the <code class="docutils literal notranslate"><span class="pre">OrdType</span> <span class="pre">(40)</span></code> to <code class="docutils literal notranslate"><span class="pre">4</span> <span class="pre">(Stop-Limit)</span></code> and by setting the <code class="docutils literal notranslate"><span class="pre">StopPx(99)</span></code> Tag. The StopPx tag value should be set to the worst price you would accept being filled.</p>
<p><strong>Example</strong></p>
<p>Assume you want to Buy EUR/USD now while it is trading at 1.4531 but you do not want to get filled at a price higher than 1.4535. In this case you would set the <code class="docutils literal notranslate"><span class="pre">StopPx</span> <span class="pre">(99)</span></code> tag value to 1.4535. If your order cannot be filled at 1.4535 or below, it will be cancelled.</p>
<p><strong>When to use Market Range</strong></p>
<p>Use market range when you are concerned about slippage
Use market range when it is acceptable that your order may be cancelled</p>
<p><strong>Supported TIF Values</strong></p>
<p>IOC and FOK</p>
</div>
<div class="section" id="limit">
<h4>Limit<a class="headerlink" href="#limit" title="Permalink to this headline">¶</a></h4>
<p>A limit order is an order to buy or sell only at a specific price (or better). In other words, the order can only be filled at the limit price or for some better price.</p>
<p><strong>When to use Limit</strong></p>
<p>Use limit when you must guarantee the price at which an order is filled</p>
<p><strong>Supported TIF Values</strong></p>
<p>GTC, Day, IOC, and FOK</p>
<p><strong>Common Applications</strong></p>
<p>The limit order can be used to achieve multiple objectives when combined with different TIF values. The two common application are:</p>
</div>
<div class="section" id="gtc-day-limit-order">
<h4>GTC/Day Limit Order<a class="headerlink" href="#gtc-day-limit-order" title="Permalink to this headline">¶</a></h4>
<p>Recall that both GTC and DAY remain active until the entire order is filled, until cancelled, or the trading day ends (for DAY orders). When you combine the limit order with these TIF values, you have an order that will remain active until the entire amount is filled at your limit price or better. This type of order is often used to close an existing position and ensure the position is closed at a specific rate.</p>
</div>
<div class="section" id="ioc-fok-limit-order">
<h4>IOC/FOK Limit Order<a class="headerlink" href="#ioc-fok-limit-order" title="Permalink to this headline">¶</a></h4>
<p>Recall that with IOC and FOK, your order will immediately attempt execution. In the case of IOC, part of the order will be filled if possible. In the case of FOK, the entire order must be filled. When you combine IOC/FOK with the limit order, you have an order which will attempt execution immediately but will fill only at your limit price or better. This order type is commonly used to guarantee the price at which a new order is filled while also controlling how much can be filled; IOC would allow partial fills while FOK would not.</p>
</div>
<div class="section" id="stop">
<h4>Stop<a class="headerlink" href="#stop" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>A stop is an order to buy or sell some amount when the current market price reaches your stop price. In other words, a stop order is a market order which is waiting to be active until the market price reaches a certain level (your stop price). Given that a stop is effectively a type of market order, it does not guarantee any specific fill price.</div></blockquote>
<p><strong>When to use Stop</strong></p>
<p>Use stop when your order being filled is more important than the price it is filled at</p>
<p><strong>Supported TIF Values</strong></p>
</div>
<div class="section" id="gtc-and-day">
<h4>GTC and DAY<a class="headerlink" href="#gtc-and-day" title="Permalink to this headline">¶</a></h4>
</div>
</div>
</div>
<div class="section" id="handling-of-partial-fills">
<h2>Handling of Partial Fills<a class="headerlink" href="#handling-of-partial-fills" title="Permalink to this headline">¶</a></h2>
<div class="section" id="order-quantity-fields">
<h3>Order Quantity Fields<a class="headerlink" href="#order-quantity-fields" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div><p>There are three fields which can be used to determine the quantity filled or rejected by FXCM. These fields are:</p>
<ul class="simple">
<li>LastQty (32) – the quantity filled on the last successful attempt to fill the order</li>
<li>CumQty (14) – the total quantity filled</li>
<li>LeavesQty (151) – the remaining quantity to be filled</li>
<li>Importance of OrdStatus (39)</li>
</ul>
<p>It is important to consider <code class="docutils literal notranslate"><span class="pre">OrdStatus</span> <span class="pre">(39)</span></code> when using the quantity fields above. As FXCM is attempting to execute an order, the values of <code class="docutils literal notranslate"><span class="pre">OrdStatus</span></code> will progress from an initial value of <code class="docutils literal notranslate"><span class="pre">New</span> <span class="pre">(0)</span></code> to some final state. There are three possible final values for <code class="docutils literal notranslate"><span class="pre">OrdStatus</span></code>:</p>
<ul class="simple">
<li>OrdStatus = Filled (2)</li>
<li>OrdStatus = Rejected (8)</li>
<li>OrdStatus = Cancelled (4)</li>
</ul>
<p>When you receive an ExecutionReport <code class="docutils literal notranslate"><span class="pre">8</span></code> with <code class="docutils literal notranslate"><span class="pre">OrdStatus</span></code> set to one of these final values, you can inspect the <code class="docutils literal notranslate"><span class="pre">CumQty</span> <span class="pre">(14)</span></code> field to determine the total amount executed. If <code class="docutils literal notranslate"><span class="pre">OrdStatus</span></code> = <code class="docutils literal notranslate"><span class="pre">Filled</span></code> (2), the entire order was filled and <code class="docutils literal notranslate"><span class="pre">CumQty</span></code> will equal the original <code class="docutils literal notranslate"><span class="pre">OrdQty</span></code> value. If <code class="docutils literal notranslate"><span class="pre">OrdStatus</span></code> = <code class="docutils literal notranslate"><span class="pre">Rejected</span> <span class="pre">(8)</span></code>, the order was partially filled and <code class="docutils literal notranslate"><span class="pre">CumQty</span></code> will be some value less than the original <code class="docutils literal notranslate"><span class="pre">OrdQty</span></code>.</p>
</div></blockquote>
</div>
<div class="section" id="example-partial-fill">
<h3>Example Partial Fill<a class="headerlink" href="#example-partial-fill" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>The following ExecutionReport messages serve as an example of a partially filled order. The original OrderQty(38) was 1,000,000. In this example only 600,000 of the order was filled. The most important line here is the last, where we can see a final <code class="docutils literal notranslate"><span class="pre">OrdStatus</span></code> value (Rejected in this case). When this last <code class="docutils literal notranslate"><span class="pre">ExecutionReport</span></code> is received, we can inspect <code class="docutils literal notranslate"><span class="pre">CumQty(14)</span></code> to see that 600,000 was filled.</div></blockquote>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">;</span> <span class="n">OrdStatus</span><span class="p">(</span><span class="mi">39</span><span class="p">)</span> <span class="o">=</span> <span class="n">New</span>
<span class="mi">6</span><span class="o">=</span><span class="mf">85.558</span> <span class="mi">14</span><span class="o">=</span><span class="mi">0</span> <span class="mi">17</span><span class="o">=</span><span class="mi">59342024</span> <span class="mi">31</span><span class="o">=</span><span class="mf">85.558</span> <span class="mi">32</span><span class="o">=</span><span class="mi">0</span> <span class="mi">37</span><span class="o">=</span><span class="mi">31654622</span> <span class="mi">38</span><span class="o">=</span><span class="mi">1000000</span> <span class="mi">39</span><span class="o">=</span><span class="mi">0</span> <span class="mi">40</span><span class="o">=</span><span class="mi">4</span> <span class="mi">44</span><span class="o">=</span><span class="mf">85.55</span> <span class="mi">854</span><span class="o">=</span><span class="mi">2</span> <span class="mi">59</span><span class="o">=</span><span class="mi">3</span> <span class="mi">99</span><span class="o">=</span><span class="mi">0</span> <span class="mi">150</span><span class="o">=</span><span class="mi">0</span> <span class="mi">151</span><span class="o">=</span><span class="mi">1000000</span> <span class="mi">211</span><span class="o">=</span><span class="mi">0835</span><span class="o">=</span><span class="mi">0</span> <span class="mi">836</span><span class="o">=</span><span class="mi">0</span> <span class="mi">1094</span><span class="o">=</span><span class="mi">0</span> <span class="mi">9000</span><span class="o">=</span><span class="mi">17</span> <span class="mi">9041</span><span class="o">=</span><span class="mi">13151786</span> <span class="mi">9050</span><span class="o">=</span><span class="n">OR</span> <span class="mi">9051</span><span class="o">=</span><span class="n">P</span> <span class="mi">9061</span><span class="o">=</span><span class="mi">0</span>

<span class="n">OrderQty</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">;</span> <span class="n">OrdStatus</span><span class="p">(</span><span class="mi">39</span><span class="p">)</span> <span class="o">=</span> <span class="n">Stopped</span>
<span class="mi">6</span><span class="o">=</span><span class="mf">85.558</span> <span class="mi">14</span><span class="o">=</span><span class="mi">0</span> <span class="mi">17</span><span class="o">=</span><span class="mi">59342025</span> <span class="mi">31</span><span class="o">=</span><span class="mf">85.558</span> <span class="mi">32</span><span class="o">=</span><span class="mi">0</span> <span class="mi">37</span><span class="o">=</span><span class="mi">31654622</span> <span class="mi">38</span><span class="o">=</span><span class="mi">1000000</span> <span class="mi">39</span><span class="o">=</span><span class="mi">7</span> <span class="mi">40</span><span class="o">=</span><span class="mi">4</span> <span class="mi">44</span><span class="o">=</span><span class="mf">85.55</span> <span class="mi">854</span><span class="o">=</span><span class="mi">2</span> <span class="mi">59</span><span class="o">=</span><span class="mi">3</span> <span class="mi">99</span><span class="o">=</span><span class="mi">0</span> <span class="mi">150</span><span class="o">=</span><span class="mi">7</span> <span class="mi">151</span><span class="o">=</span><span class="mi">1000000</span> <span class="mi">211</span><span class="o">=</span><span class="mi">0835</span><span class="o">=</span><span class="mi">0</span> <span class="mi">836</span><span class="o">=</span><span class="mi">0</span> <span class="mi">1094</span><span class="o">=</span><span class="mi">0</span> <span class="mi">9000</span><span class="o">=</span><span class="mi">17</span> <span class="mi">9041</span><span class="o">=</span><span class="mi">13151786</span> <span class="mi">9050</span><span class="o">=</span><span class="n">OR</span> <span class="mi">9051</span><span class="o">=</span><span class="n">U</span> <span class="mi">9061</span><span class="o">=</span><span class="mi">0</span>

<span class="n">OrderQty</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">;</span> <span class="n">OrdStatus</span><span class="p">(</span><span class="mi">39</span><span class="p">)</span> <span class="o">=</span> <span class="n">Stopped</span>
<span class="mi">6</span><span class="o">=</span><span class="mf">85.488</span> <span class="mi">14</span><span class="o">=</span><span class="mi">0</span> <span class="mi">17</span><span class="o">=</span><span class="mi">59342047</span> <span class="mi">31</span><span class="o">=</span><span class="mf">85.488</span> <span class="mi">32</span><span class="o">=</span><span class="mi">0</span> <span class="mi">37</span><span class="o">=</span><span class="mi">31654622</span> <span class="mi">38</span><span class="o">=</span><span class="mi">1000000</span> <span class="mi">39</span><span class="o">=</span><span class="mi">7</span> <span class="mi">40</span><span class="o">=</span><span class="mi">4</span> <span class="mi">44</span><span class="o">=</span><span class="mf">85.48</span> <span class="mi">854</span><span class="o">=</span><span class="mi">2</span> <span class="mi">9</span><span class="o">=</span><span class="mi">3</span> <span class="mi">99</span><span class="o">=</span><span class="mi">0</span> <span class="mi">150</span><span class="o">=</span><span class="mi">7</span> <span class="mi">151</span><span class="o">=</span><span class="mi">1000000</span> <span class="mi">211</span><span class="o">=</span><span class="mi">0835</span><span class="o">=</span><span class="mi">0</span> <span class="mi">836</span><span class="o">=</span><span class="mi">0</span> <span class="mi">1094</span><span class="o">=</span><span class="mi">0</span> <span class="mi">9000</span><span class="o">=</span><span class="mi">17</span> <span class="mi">9041</span><span class="o">=</span><span class="mi">13151786</span> <span class="mi">9050</span><span class="o">=</span><span class="n">OR</span> <span class="mi">9051</span><span class="o">=</span><span class="n">U</span> <span class="mi">9061</span><span class="o">=</span><span class="mi">0</span>

<span class="n">OrderQty</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">;</span> <span class="n">OrdStatus</span><span class="p">(</span><span class="mi">39</span><span class="p">)</span> <span class="o">=</span> <span class="n">Partially</span> <span class="n">Filled</span><span class="p">;</span> <span class="n">LastQty</span><span class="p">(</span><span class="mi">32</span><span class="p">)</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span><span class="mi">000</span><span class="p">;</span> <span class="n">CumQty</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span><span class="mi">000</span>
<span class="mi">6</span><span class="o">=</span><span class="mf">85.488</span> <span class="mi">14</span><span class="o">=</span><span class="mi">600000</span> <span class="mi">17</span><span class="o">=</span><span class="mi">59342048</span> <span class="mi">31</span><span class="o">=</span><span class="mf">85.488</span> <span class="mi">32</span><span class="o">=</span><span class="mi">600000</span> <span class="mi">37</span><span class="o">=</span><span class="mi">31654622</span> <span class="mi">38</span><span class="o">=</span><span class="mi">1000000</span> <span class="mi">39</span><span class="o">=</span><span class="mi">1</span> <span class="mi">40</span><span class="o">=</span><span class="mi">4</span> <span class="mi">44</span><span class="o">=</span><span class="mf">85.488</span> <span class="mi">54</span><span class="o">=</span><span class="mi">259</span><span class="o">=</span><span class="mi">399</span><span class="o">=</span><span class="mi">0</span> <span class="mi">150</span><span class="o">=</span><span class="n">F</span> <span class="mi">151</span><span class="o">=</span><span class="mi">400000</span> <span class="mi">211</span><span class="o">=</span><span class="mi">0</span> <span class="mi">835</span><span class="o">=</span><span class="mi">0</span> <span class="mi">836</span><span class="o">=</span><span class="mi">0</span> <span class="mi">1094</span><span class="o">=</span><span class="mi">0</span> <span class="mi">9000</span><span class="o">=</span><span class="mi">17</span> <span class="mi">9041</span><span class="o">=</span><span class="mi">13151888</span> <span class="mi">9050</span><span class="o">=</span><span class="n">OR</span> <span class="mi">9051</span><span class="o">=</span><span class="n">U</span> <span class="mi">9061</span><span class="o">=</span><span class="mi">0</span>

<span class="n">OrderQty</span><span class="p">(</span><span class="mi">38</span><span class="p">)</span> <span class="o">=</span> <span class="mi">1</span><span class="p">,</span><span class="mi">000</span><span class="p">,</span><span class="mi">000</span><span class="p">;</span> <span class="n">OrdStatus</span><span class="p">(</span><span class="mi">39</span><span class="p">)</span> <span class="o">=</span> <span class="n">Rejected</span><span class="p">;</span> <span class="n">CumQty</span><span class="p">(</span><span class="mi">14</span><span class="p">)</span> <span class="o">=</span> <span class="mi">600</span><span class="p">,</span><span class="mi">000</span>
<span class="mi">6</span><span class="o">=</span><span class="mf">85.488</span> <span class="mi">14</span><span class="o">=</span><span class="mi">600000</span> <span class="mi">17</span><span class="o">=</span><span class="mi">59342049</span> <span class="mi">31</span><span class="o">=</span><span class="mf">85.488</span> <span class="mi">32</span><span class="o">=</span><span class="mi">0</span> <span class="mi">37</span><span class="o">=</span><span class="mi">31654622</span> <span class="mi">38</span><span class="o">=</span><span class="mi">1000000</span> <span class="mi">39</span><span class="o">=</span><span class="mi">8</span> <span class="mi">40</span><span class="o">=</span><span class="mi">4</span> <span class="mi">44</span><span class="o">=</span><span class="mf">85.488</span> <span class="mi">54</span><span class="o">=</span><span class="mi">258</span><span class="o">=</span><span class="n">Rejected</span> <span class="mi">59</span><span class="o">=</span><span class="mi">399</span><span class="o">=</span><span class="mi">0</span> <span class="mi">150</span><span class="o">=</span><span class="mi">8</span> <span class="mi">151</span><span class="o">=</span><span class="mi">0</span> <span class="mi">211</span><span class="o">=</span><span class="mi">0</span> <span class="mi">835</span><span class="o">=</span><span class="mi">0</span> <span class="mi">836</span><span class="o">=</span><span class="mi">0</span> <span class="mi">1094</span><span class="o">=</span><span class="mi">0</span> <span class="mi">9000</span><span class="o">=</span><span class="mi">17</span> <span class="mi">9041</span><span class="o">=</span><span class="mi">13151888</span> <span class="mi">9050</span><span class="o">=</span><span class="n">OR</span> <span class="mi">9051</span><span class="o">=</span><span class="n">R</span> <span class="mi">9061</span><span class="o">=</span><span class="mi">0</span>
</pre></div>
</div>
</div>
<div class="section" id="closing-a-position">
<h3>Closing A Position<a class="headerlink" href="#closing-a-position" title="Permalink to this headline">¶</a></h3>
<p>How you close a position depends upon the position maintenance type of the account. Some accounts support hedging while others do not. Hedging is the ability to have two positions in the same symbol but of a different side; for example, holding both Buy EUR/USD and Sell EUR/USD positions at the same time.</p>
<p><strong>Accounts with Hedging</strong></p>
<blockquote>
<div>Accounts that support hedging allow you to close individual positions, regardless of when they were opened relative to other positions. Clearly with these accounts, Buy and Sell orders do not offset themselves but instead form a hedge. Consequently, you must close these positions with a NewOrderSingle message that specifies the <code class="docutils literal notranslate"><span class="pre">TicketID</span></code> to close.</div></blockquote>
</div>
<div class="section" id="sending-a-closing-order">
<h3>Sending A Closing Order<a class="headerlink" href="#sending-a-closing-order" title="Permalink to this headline">¶</a></h3>
<blockquote>
<div>NewOrderSingle (D) can be used to close a specific position simply by setting the <code class="docutils literal notranslate"><span class="pre">FXCMPosID</span> <span class="pre">(9041)</span></code> field. This converts a basic market order into a closing order.</div></blockquote>
<ul class="simple">
<li>Closing Order in Code</li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>        FIX44::NewOrderSingle order;

        order.setField(ClOrdID(NextClOrdID()));
        order.setField(Account(account_ID));
        order.setField(Symbol(&quot;EUR/USD&quot;));
        order.setField(Side(Side_BUY));
        order.setField(TransactTime());
        order.setField(OrderQty(10000));
        order.setField(OrdType(OrdType_MARKET));
        order.setField(FXCM_POS_ID/*9041*/, ”84736256”);

Session::sendToTarget(order, session_ID);
</pre></div>
</div>
<p><strong>Accounts without Hedging</strong></p>
<blockquote>
<div>For accounts without hedging, orders of the opposite Side cancel each other out; e.g., sending a <code class="docutils literal notranslate"><span class="pre">NewOrderSingle</span></code> with a Side of Buy will net against any existing Sell positions. This netting is done in First-In, First-Out <code class="docutils literal notranslate"><span class="pre">FIFO</span></code> order. As a result, a basic market order will suffice to close any open position.</div></blockquote>
</div>
</div>
<div class="section" id="getting-account-position-maintenance">
<h2>Getting Account Position Maintenance<a class="headerlink" href="#getting-account-position-maintenance" title="Permalink to this headline">¶</a></h2>
<blockquote>
<div>The position maintenance type of each account can be retrieved from the Parties component of <code class="docutils literal notranslate"><span class="pre">CollateralReport</span> <span class="pre">(BA)</span></code>. The <code class="docutils literal notranslate"><span class="pre">NoPartySubIDs</span></code> group contains a custom PartySubIDType for position maintenance. This specific <code class="docutils literal notranslate"><span class="pre">PartySubIDType</span></code> tag is set to a value of <code class="docutils literal notranslate"><span class="pre">4000</span></code>. <code class="docutils literal notranslate"><span class="pre">PartySubID</span></code> can be checked for the value of position maintenance. <code class="docutils literal notranslate"><span class="pre">Y</span></code> = “Hedging Enabled,” <code class="docutils literal notranslate"><span class="pre">N</span></code> = “No Hedging,” and <code class="docutils literal notranslate"><span class="pre">0</span></code> = “Netting.” Anything other than <code class="docutils literal notranslate"><span class="pre">Y</span></code> implies hedging is disabled and we will not use closing orders.</div></blockquote>
<div class="section" id="getting-position-maintenance-in-code">
<h3>Getting Position Maintenance in Code<a class="headerlink" href="#getting-position-maintenance-in-code" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nb">int</span> <span class="n">number_subID</span> <span class="o">=</span> <span class="n">IntConvertor</span><span class="p">::</span><span class="n">convert</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">NoPartySubIDs</span><span class="p">));</span>
<span class="k">for</span><span class="p">(</span><span class="nb">int</span> <span class="n">u</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">u</span> <span class="o">&lt;=</span> <span class="n">number_subID</span><span class="p">;</span> <span class="n">u</span><span class="o">++</span><span class="p">){</span>
        <span class="n">FIX44</span><span class="p">::</span><span class="n">CollateralReport</span><span class="p">::</span><span class="n">NoPartyIDs</span><span class="p">::</span><span class="n">NoPartySubIDs</span> <span class="n">sub_group</span><span class="p">;</span>
        <span class="n">group</span><span class="o">.</span><span class="n">getGroup</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">sub_group</span><span class="p">);</span>

        <span class="n">string</span> <span class="n">sub_type</span>  <span class="o">=</span> <span class="n">sub_group</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">PartySubIDType</span><span class="p">);</span>
        <span class="n">string</span> <span class="n">sub_value</span> <span class="o">=</span> <span class="n">sub_group</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">PartySubID</span><span class="p">);</span>
        <span class="k">if</span><span class="p">(</span><span class="n">sub_type</span> <span class="o">==</span> <span class="s2">&quot;4000&quot;</span><span class="p">){</span>
                <span class="o">//</span> <span class="n">Check</span> <span class="n">sub_value</span> <span class="k">for</span> <span class="n">position</span> <span class="n">maintenance</span>
                <span class="o">//</span> <span class="n">Y</span> <span class="o">=</span> <span class="n">Hedging</span>
                <span class="o">//</span> <span class="n">N</span> <span class="o">=</span> <span class="n">No</span> <span class="n">Hedging</span>
                <span class="o">//</span> <span class="mi">0</span> <span class="o">=</span> <span class="n">Netting</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="when-to-reset-msgseqnum">
<h2>When To Reset MsgSeqNum<a class="headerlink" href="#when-to-reset-msgseqnum" title="Permalink to this headline">¶</a></h2>
<div class="section" id="reset-on-logon">
<h3>Reset On Logon<a class="headerlink" href="#reset-on-logon" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">MsgSeqNum</span></code> should be reset upon each Logon. This means that every Logon message should include tags <code class="docutils literal notranslate"><span class="pre">MsgSeqNum</span> <span class="pre">(34)</span></code> set to “1” and <code class="docutils literal notranslate"><span class="pre">ResetSeqNumFlag</span> <span class="pre">(141)</span></code> set to “Yes.” It is necessary to reset upon each Logon due to the fact that connections to FXCM are load balanced against a cluster of servers. This promotes a stable trading environment for users, but it also means you should reset upon each Logon.</p>
<p>Example Logon Message:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">8</span><span class="p">(</span><span class="n">BeginString</span><span class="p">)</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span>
<span class="mi">9</span><span class="p">(</span><span class="n">BodyLength</span><span class="p">)</span><span class="o">=</span><span class="mi">114</span>
<span class="mi">35</span><span class="p">(</span><span class="n">MsgType</span><span class="p">)</span><span class="o">=</span><span class="n">A</span>
<span class="mi">34</span><span class="p">(</span><span class="n">MsgSeqNum</span><span class="p">)</span><span class="o">=</span><span class="mi">1</span>
<span class="mi">49</span><span class="p">(</span><span class="n">SenderCompID</span><span class="p">)</span><span class="o">=</span><span class="n">sender_client1</span>
<span class="mi">52</span><span class="p">(</span><span class="n">SendingTime</span><span class="p">)</span><span class="o">=</span><span class="mi">20120927</span><span class="o">-</span><span class="mi">13</span><span class="p">:</span><span class="mi">15</span><span class="p">:</span><span class="mf">34.754</span>
<span class="mi">56</span><span class="p">(</span><span class="n">TargetCompID</span><span class="p">)</span><span class="o">=</span><span class="n">FXCM</span>
<span class="mi">57</span><span class="p">(</span><span class="n">TargetSubID</span><span class="p">)</span><span class="o">=</span><span class="n">U100D1</span>
<span class="mi">553</span><span class="p">(</span><span class="n">Username</span><span class="p">)</span><span class="o">=</span><span class="n">some_user</span>
<span class="mi">554</span><span class="p">(</span><span class="n">Password</span><span class="p">)</span><span class="o">=</span><span class="n">some_password</span>
<span class="mi">98</span><span class="p">(</span><span class="n">EncryptMethod</span><span class="p">)</span><span class="o">=</span><span class="mi">0</span>
<span class="mi">108</span><span class="p">(</span><span class="n">HeartBtInt</span><span class="p">)</span><span class="o">=</span><span class="mi">30</span>
<span class="mi">141</span><span class="p">(</span><span class="n">ResetSeqNumFlag</span><span class="p">)</span><span class="o">=</span><span class="n">Y</span>
<span class="mi">10</span><span class="p">(</span><span class="n">CheckSum</span><span class="p">)</span><span class="o">=</span><span class="mi">146</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="account-equity">
<h2>Account Equity<a class="headerlink" href="#account-equity" title="Permalink to this headline">¶</a></h2>
<p>FIX API does not have a field which represents account equity. Equity is a real-time value that is dependent upon a floating price. If your application needs immediate access to equity in real-time, you would have to calculate it using market data. However, the <code class="docutils literal notranslate"><span class="pre">CollateralReport</span> <span class="pre">(BA)</span></code> does provide an equity value that corresponds with a specific time in the trading day.</p>
</div>
<div class="section" id="startcash-921">
<h2>StartCash(921)<a class="headerlink" href="#startcash-921" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">StartCash</span> <span class="pre">(921)</span></code> field from CollateralReport is the equity value of the account at 5:00pm EST (New York). This can be used as a snapshot of what the equity was at that time. This value will include the account balance and any profit or loss on open trades.</p>
</div>
<div class="section" id="steps-to-retrieve-short-version-of-market-price">
<h2>Steps To Retrieve Short Version Of Market Price<a class="headerlink" href="#steps-to-retrieve-short-version-of-market-price" title="Permalink to this headline">¶</a></h2>
<p>FXCM give client an oppertunity to retrieve market price for just <code class="docutils literal notranslate"><span class="pre">Bid/Ask</span></code>, please follow instructions at <a class="reference external" href="https://docs.fxcorporate.com/api-message-info.pdf/">here</a>.</p>
</div>
<div class="section" id="emf">
<h2>EMF<a class="headerlink" href="#emf" title="Permalink to this headline">¶</a></h2>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Important detail to note about order execution with FXCM is the difference between order fill notification and order finished notification. As an order is filled by a liquidity provider, client will be sent a fill confirmation in the form of an execution report that includes 35=8|39=7|150=F or, in case of a partial fill, 35=8|39=1|150=F. This confirmation is sent as soon as the LP confirms the trade. After the order is completed and every database operation associated with it is committed, the client will be sent an execution report of order being done. This execution report includes 35=8|39=2|150=F.Alternatively, if the order was filled only partially before being canceled, the final confirmation will include 35=8|39=4|150=4. You can find the remaining quantity that was not filled in tag 151. It is important to note, that the final execution report can be sent much later. When looking for fill confirmations, clients can take advantage of faster notifications than before implementing  EMF. Even if clients are not taking advantage of the EMF execution, they will always be notified of the orders being filled. The only difference would be the delivery delay.</p>
</div>
</div>
<div class="section" id="execution-disclaimer">
<h2>Execution Disclaimer<a class="headerlink" href="#execution-disclaimer" title="Permalink to this headline">¶</a></h2>
<p>FXCM aggregates bid and ask prices from a pool of liquidity providers and is the final counterparty when trading forex on FXCM’s dealing desk and No Dealing Desk (NDD) execution models. With NDD, FXCM’s platforms display the best-available direct bid and ask prices from the liquidity providers. In addition to the spread, the trading cost with NDD is a fixed lot-based commission at the open and close of the trade. While generally NDD accounts offer spreads with no markups, in some circumstances, FXCM may add a markup to NDD spreads. This may occur due to, but not limited to, account type, such as accounts opened through a referring agent. With dealing desk execution, FXCM can act as the dealer on any or all currency pairs. Backup liquidity providers fill in when FXCM does not act as the dealer. FXCM’s dealing desk has fewer liquidity providers than NDD. There are many other factors to consider when choosing an execution model (such as conflict of interest, trading style or strategy). See Execution Risks. Note: Contractual relationships with liquidity providers are consolidated through the FXCM Group, which, in turn, provides technology and pricing to the group affiliate entities.</p>
</div>
<div class="section" id="frequently-asked-questions">
<h2>Frequently Asked Questions<a class="headerlink" href="#frequently-asked-questions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="error-messages-received">
<h3>1. Error Messages received<a class="headerlink" href="#error-messages-received" title="Permalink to this headline">¶</a></h3>
<div class="section" id="a-ora-20103-session-expired">
<h4>a. ORA-20103: Session expired<a class="headerlink" href="#a-ora-20103-session-expired" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SEVERE</span><span class="p">:</span> <span class="n">onMessageRecieved</span><span class="p">::</span><span class="n">Forcereconnect</span> <span class="kn">from</span> <span class="nn">server.</span> <span class="n">Update</span> <span class="n">session</span> <span class="n">state</span><span class="p">::</span><span class="mi">19915</span><span class="p">;</span><span class="n">DAS</span> <span class="mi">19915</span><span class="p">:</span> <span class="n">ZDas</span> <span class="ne">Exception</span> <span class="n">ORA</span><span class="o">-</span><span class="mi">20103</span><span class="p">:</span> <span class="n">Session</span> <span class="n">expired</span><span class="o">.</span>
</pre></div>
</div>
<p>Unordered List Item Error code <code class="docutils literal notranslate"><span class="pre">20103</span></code> session expired means your connection has been lost. This error message could be displayed due to a number of reasons, including network instability, a system issue or a client side program crash. If the problem is a system issue, please try to reboot.</p>
</div>
<div class="section" id="b-ora-20143-order-price-too-far-from-market-price">
<h4>b. ORA-20143: Order price too far from market price<a class="headerlink" href="#b-ora-20143-order-price-too-far-from-market-price" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>Done! request.RequestID: U10D1_0F742A280DE8276EE053182B3C0A1526_02192015163720178345_XIX0-2 offer.OfferID:1 AccountID: 831293 iAmount: 10000 dRate: 1.13953 dRateLimit: 1.14153 dRateStop: 1.13803 BuySell: B OrderType: LE 19915;DAS 19915: ZDas Exception ORA-20143: Order price too far from market price :1.14219 vs 1.14162
</pre></div>
</div>
<p>Unordered List Item This error message is generated when the Buy Limit price is above the Bid price. For example if the Bid price was 1.13919, and your Buy limit 1.13953. If you want to place a Buy Limit above the Bid price you can do so using an OpenLimit order, which is available in API ver. 1.3.2. The fill price will be the limit price or better.</p>
</div>
<div class="section" id="c-ora-20112-limit-price-did-not-pass-validation">
<h4>c. ORA-20112: Limit price did not pass validation<a class="headerlink" href="#c-ora-20112-limit-price-did-not-pass-validation" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">19915</span><span class="p">;</span><span class="n">DAS</span> <span class="mi">19915</span><span class="p">:</span> <span class="n">ZDas</span> <span class="ne">Exception</span> <span class="n">ORA</span><span class="o">-</span><span class="mi">20112</span><span class="p">:</span> <span class="n">Limit</span> <span class="n">price</span> <span class="n">did</span> <span class="ow">not</span> <span class="k">pass</span> <span class="n">validation</span><span class="p">:</span> <span class="n">A</span><span class="p">:</span><span class="mi">308386</span> <span class="n">OF</span><span class="p">:</span><span class="mi">22</span> <span class="n">SB</span><span class="p">:</span><span class="n">B</span>
</pre></div>
</div>
<p>Unordered List Item This error message is generated when the Limit price does not correspond to the ask price for the order type required. If the Time in Force is IOC or FOK then the Buy limit price should be &gt;= Ask price. For GTC or GTD the Buy Limit should be ⇐ Ask price.</p>
</div>
<div class="section" id="d-ora-20113-insufficient-margin-in-session">
<h4>d. ORA-20113: Insufficient margin in session<a class="headerlink" href="#d-ora-20113-insufficient-margin-in-session" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">19915</span><span class="p">;</span><span class="n">DAS</span> <span class="mi">19915</span><span class="p">:</span> <span class="n">ZDas</span> <span class="ne">Exception</span> <span class="n">ORA</span><span class="o">-</span><span class="mi">20113</span><span class="p">:</span> <span class="n">Insufficient</span> <span class="n">margin</span> <span class="ow">in</span> <span class="n">session</span>
</pre></div>
</div>
<p>Unordered List Item This error message is generated when you don’t have enough margin.</p>
</div>
<div class="section" id="e-ora-20102-access-violation">
<h4>e. ORA-20102: Access Violation<a class="headerlink" href="#e-ora-20102-access-violation" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">19915</span><span class="p">;</span><span class="n">DAS</span> <span class="mi">19915</span><span class="p">:</span> <span class="n">ZDas</span> <span class="ne">Exception</span> <span class="n">ORA</span><span class="o">-</span><span class="mi">20102</span><span class="p">:</span> <span class="n">Access</span> <span class="n">Violation</span><span class="p">:</span> <span class="n">U10D1_0C73B32A0A4299C5E053182B3C0ADFC8_01122015125318715906_UGQ1</span> <span class="n">phase</span><span class="p">:</span><span class="mi">4</span>
</pre></div>
</div>
<p>Unordered List Item This error message is generated when a trade account is missing from the dealer account.</p>
</div>
<div class="section" id="f-ora-20105-order-price-did-not-pass-validation">
<h4>f. ORA-20105: Order price did not pass validation<a class="headerlink" href="#f-ora-20105-order-price-did-not-pass-validation" title="Permalink to this headline">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">8</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span><span class="o">|</span><span class="mi">9</span><span class="o">=</span><span class="mi">179</span><span class="o">|</span><span class="mi">35</span><span class="o">=</span><span class="n">D</span><span class="o">|</span><span class="mi">1</span><span class="o">=</span><span class="mi">2620231783</span><span class="o">|</span><span class="mi">11</span><span class="o">=</span><span class="n">FXSTAT_32951421147085</span><span class="o">|</span><span class="mi">15</span><span class="o">=</span><span class="n">EUR</span><span class="o">|</span><span class="mi">38</span><span class="o">=</span><span class="mi">5</span><span class="o">|</span><span class="mi">40</span><span class="o">=</span><span class="mi">3</span><span class="o">|</span><span class="mi">54</span><span class="o">=</span><span class="mi">2</span><span class="o">|</span><span class="mi">55</span><span class="o">=</span><span class="n">ESP35</span><span class="o">|</span><span class="mi">59</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">60</span><span class="o">=</span><span class="mi">20150113</span><span class="o">-</span><span class="mi">11</span><span class="p">:</span><span class="mi">04</span><span class="p">:</span><span class="mi">45</span><span class="o">|</span><span class="mi">99</span><span class="o">=</span><span class="mi">9864</span><span class="o">|</span><span class="mi">386</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">336</span><span class="o">=</span><span class="n">FXCM</span><span class="o">|</span><span class="mi">625</span><span class="o">=</span><span class="n">EUREAL</span><span class="o">|</span><span class="mi">516</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">526</span><span class="o">=</span><span class="n">OT_</span><span class="o">-</span><span class="mi">2</span><span class="n">_1421147086_ESP35_ESP35_0_0_</span><span class="o">|</span><span class="mi">10</span><span class="o">=</span><span class="mi">080</span>
</pre></div>
</div>
<p>Unordered List Item The rejected orders error message is generated when the stop price is within 12 points of ask price. The reason for rejected orders is because the Minimum Stop Distance for ESP35 is 12 points. For example, if the Ask price was 9911 and your Stop price 99=9917, you would receive this error message. In this example, the stop price should be at least 9911 + 12 = 9923.</p>
</div>
<div class="section" id="g-ora-20008-failed-to-create-order-primary-validation">
<h4>g. ORA-20008: Failed to create order, primary validation<a class="headerlink" href="#g-ora-20008-failed-to-create-order-primary-validation" title="Permalink to this headline">¶</a></h4>
<p>This error message is generated when Range prices are below the Ask price. For example if orders were placed on news events, and the spreads got wider, e.g. If Buy range IOC 55=CAD/JPY 44=92.55100 99=95.55100 and Ask price was 95.612</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>8=FIX.4.4 9=190 35=D 34=19 49=2620237129_client1 52=20150304-15:00:00 56=FXCM 57=EUREAL 1=2620237129 11=28020200337fa23 38=1000000 40=4 44=92.55100 54=1 55=CAD/JPY 59=3 60=20150304-14:57:19.363 99=95.55100 10=252

DEBUG (2015-03-04 10:00:00,171) [0:Bus:2620237129_client1FXCMEUREAL] (app) - »&gt; app message to counterparty: 8=FIX.4.4 9=558 35=8 34=18308 49=FXCM 50=EUREAL 52=20150304-15:00:00.171 56=2620237129_client1 1=2620237129 6=0 11=28020200337fa23 14=0 15=CAD 17=0 31=0 32=0 37=NONE 38=1000000 39=8 40=4 44=0 54=1 55=CAD/JPY 58=19915;DAS 19915: ZDas Exception ORA-20008: Failed to create order, primary validation
</pre></div>
</div>
</div>
<div class="section" id="h-tag-specified-out-of-required-order">
<h4>h. tag specified out of required order<a class="headerlink" href="#h-tag-specified-out-of-required-order" title="Permalink to this headline">¶</a></h4>
<p>This error message is generated when the tag order does not pass our system check. You can avoid this by setting <code class="docutils literal notranslate"><span class="pre">ValidateFieldsOutOfOrder=N</span></code> in your config file.</p>
</div>
</div>
<div class="section" id="how-can-i-tell-what-account-type-i-have">
<h3>2. How can I tell what account type I have?<a class="headerlink" href="#how-can-i-tell-what-account-type-i-have" title="Permalink to this headline">¶</a></h3>
<p>Checking on Trading station: To check the type of account you have, you can login to Trading station and look in the tab “Accounts”. Scroll to the end and find column Type. <code class="docutils literal notranslate"><span class="pre">Y</span> <span class="pre">=</span> <span class="pre">Hedging</span></code> is allowed; <code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">=</span> <span class="pre">Hedging</span></code> is not allowed, <code class="docutils literal notranslate"><span class="pre">O</span> <span class="pre">=</span> <span class="pre">Netting</span></code> only, <code class="docutils literal notranslate"><span class="pre">D</span> <span class="pre">=</span> <span class="pre">Day</span> <span class="pre">netting</span></code>, <code class="docutils literal notranslate"><span class="pre">F</span> <span class="pre">=</span> <span class="pre">FIFO</span></code></p>
<p>FIX: Using tag <code class="docutils literal notranslate"><span class="pre">453</span></code> and <code class="docutils literal notranslate"><span class="pre">803</span> <span class="pre">(PartySubIDType)</span></code> <code class="docutils literal notranslate"><span class="pre">Y</span> <span class="pre">=</span> <span class="pre">Hedging</span></code>, <code class="docutils literal notranslate"><span class="pre">N</span> <span class="pre">=</span> <span class="pre">No</span> <span class="pre">Hedging</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span> <span class="pre">=</span> <span class="pre">Netting</span></code>. This is located on page 34 of the documentation.</p>
</div>
<div class="section" id="limit-order-day-order-vs-limit-ioc-fok">
<h3>3. Limit order Day order vs Limit IOC/FOK<a class="headerlink" href="#limit-order-day-order-vs-limit-ioc-fok" title="Permalink to this headline">¶</a></h3>
<p>A Limit Order is an order to buy or sell a predetermined amount at a specified price. This order will be filled only when the market price equals the specified limit price or better. Limit orders also allow a trader to limit the length of time an order can be outstanding before being canceled with the following time in force values GTC, DAY, GTD, IOC, FOK.</p>
<p>The Limit price for order with TIF GTC or DAY (for future execution) should be market or better than current market price, but for orders with TIF IOC or FOK (immediate execution) the Limit price should be market or worse. This is because IOC/FOK orders will be sent immediately for execution, without waiting for the market price to reach the Limit price.</p>
<p>If the current Bid is 100, and you place a Sell Limit IOC/FOK at 102, this order will be rejected because the Limit price has to be market or worse for IOC/FOK, (it would be like asking to get order filled immediately at 102 or better).</p>
<p>If your intention was to control the slippage, you can use a Limit OIC or FOK. The Limit price should be the Bid price or below. So in this example, if Limit=98, the order will be filled at 98 or better, but because it’s immediate execution, if for any reason the order can’t be filled in few attempts, the order will be canceled. Can you fix the paragraph spacing below?</p>
</div>
<div class="section" id="what-is-the-base-unit-size-also-the-minimum-trade-size-for-all-fx-instruments">
<h3>4. What is the Base Unit Size (also the minimum trade size) for all FX instruments?<a class="headerlink" href="#what-is-the-base-unit-size-also-the-minimum-trade-size-for-all-fx-instruments" title="Permalink to this headline">¶</a></h3>
<p>tag <code class="docutils literal notranslate"><span class="pre">53</span></code> in collateral report(35=BA) For each CFD - tag <code class="docutils literal notranslate"><span class="pre">228</span></code> in Trading Session Status <code class="docutils literal notranslate"><span class="pre">35=h</span></code></p>
</div>
<div class="section" id="how-can-i-get-positions-side-and-quantity-from-open-position-report">
<h3>5. How can I get Positions side and quantity from open position report?<a class="headerlink" href="#how-can-i-get-positions-side-and-quantity-from-open-position-report" title="Permalink to this headline">¶</a></h3>
<p>First you need to send position report request <code class="docutils literal notranslate"><span class="pre">35=AN</span></code> with <code class="docutils literal notranslate"><span class="pre">724=0</span></code> (open position), <code class="docutils literal notranslate"><span class="pre">724=1</span></code> is for closed positions. If you have open position you will get positon report <code class="docutils literal notranslate"><span class="pre">35=AP</span></code> for each open position. If you don’t have it you will receive “no open position” in message <code class="docutils literal notranslate"><span class="pre">AO</span></code> instead of <code class="docutils literal notranslate"><span class="pre">35=AP</span></code> message. In the positon report, you need to look at <code class="docutils literal notranslate"><span class="pre">704</span> <span class="pre">(LongQty)</span></code> or <code class="docutils literal notranslate"><span class="pre">705(shortQty)</span></code>. If you see <code class="docutils literal notranslate"><span class="pre">704</span></code> it is long order (buy order), if you see <code class="docutils literal notranslate"><span class="pre">705</span></code> it is short order (sell order).</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">8</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span><span class="o">|</span><span class="mi">9</span><span class="o">=</span><span class="mi">149</span><span class="o">|</span><span class="mi">35</span><span class="o">=</span><span class="n">AN</span><span class="o">|</span><span class="mi">34</span><span class="o">=</span><span class="mi">5</span><span class="o">|</span><span class="mi">49</span><span class="o">=</span><span class="n">d101968168_client1</span><span class="o">|</span><span class="mi">52</span><span class="o">=</span><span class="mi">20151111</span><span class="o">-</span><span class="mi">21</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">12.396</span><span class="o">|</span><span class="mi">56</span><span class="o">=</span><span class="n">FXCM</span><span class="o">|</span><span class="mi">57</span><span class="o">=</span><span class="n">U100D1</span><span class="o">|</span><span class="mi">1</span><span class="o">=</span><span class="mi">01958448</span><span class="o">|</span><span class="mi">60</span><span class="o">=</span><span class="mi">20151111</span><span class="o">-</span><span class="mi">21</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">12.395</span><span class="o">|</span><span class="mi">263</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">581</span><span class="o">=</span><span class="mi">6</span><span class="o">|</span><span class="mi">710</span><span class="o">=</span><span class="mi">4</span><span class="o">|</span><span class="mi">715</span><span class="o">=</span><span class="mi">20151111</span><span class="o">|</span><span class="mi">724</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">10</span><span class="o">=</span><span class="mi">085</span><span class="o">|</span>

<span class="mi">8</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span><span class="o">|</span><span class="mi">9</span><span class="o">=</span><span class="mi">565</span><span class="o">|</span><span class="mi">35</span><span class="o">=</span><span class="n">AP</span><span class="o">|</span><span class="mi">34</span><span class="o">=</span><span class="mi">8</span><span class="o">|</span><span class="mi">49</span><span class="o">=</span><span class="n">FXCM</span><span class="o">|</span><span class="mi">50</span><span class="o">=</span><span class="n">U100D1</span><span class="o">|</span><span class="mi">52</span><span class="o">=</span><span class="mi">20151111</span><span class="o">-</span><span class="mi">20</span><span class="p">:</span><span class="mi">19</span><span class="p">:</span><span class="mf">59.929</span><span class="o">|</span><span class="mi">56</span><span class="o">=</span><span class="n">d101968168_client1</span><span class="o">|</span><span class="mi">1</span><span class="o">=</span><span class="mi">01958448</span><span class="o">|</span><span class="mi">11</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span><span class="p">:</span><span class="n">d101968168_client1</span><span class="o">-&gt;</span><span class="n">FXCM</span><span class="o">/</span><span class="n">U100D1</span><span class="o">-</span><span class="mi">1437981786837</span><span class="o">-</span><span class="mi">10</span><span class="o">|</span><span class="mi">15</span><span class="o">=</span><span class="n">EUR</span><span class="o">|</span><span class="mi">37</span><span class="o">=</span><span class="mi">207486895</span><span class="o">|</span><span class="mi">55</span><span class="o">=</span><span class="n">EUR</span><span class="o">/</span><span class="n">USD</span><span class="o">|</span><span class="mi">60</span><span class="o">=</span><span class="mi">20150727</span><span class="o">-</span><span class="mi">07</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">08</span><span class="o">|</span><span class="mi">325</span><span class="o">=</span><span class="n">N</span><span class="o">|</span><span class="mi">336</span><span class="o">=</span><span class="n">FXCM</span><span class="o">|</span><span class="mi">526</span><span class="o">=</span><span class="n">fix_example_test</span><span class="o">|</span><span class="mi">581</span><span class="o">=</span><span class="mi">6</span><span class="o">|</span><span class="mi">625</span><span class="o">=</span><span class="n">U100D1</span><span class="o">|</span><span class="mi">710</span><span class="o">=</span><span class="mi">4</span><span class="o">|</span><span class="mi">715</span><span class="o">=</span><span class="mi">20151111</span><span class="o">|</span><span class="mi">721</span><span class="o">=</span><span class="mi">3684204026</span><span class="o">|</span><span class="mi">724</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">727</span><span class="o">=</span><span class="mi">2</span><span class="o">|</span><span class="mi">728</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">730</span><span class="o">=</span><span class="mf">1.10728</span><span class="o">|</span><span class="mi">731</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">734</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">912</span><span class="o">=</span><span class="n">N</span><span class="o">|</span><span class="mi">9000</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">9038</span><span class="o">=</span><span class="mi">260</span><span class="o">|</span><span class="mi">9040</span><span class="o">=-</span><span class="mf">21.16</span><span class="o">|</span><span class="mi">9041</span><span class="o">=</span><span class="mi">80775478</span><span class="o">|</span><span class="mi">9042</span><span class="o">=</span><span class="mi">20150727</span><span class="o">-</span><span class="mi">07</span><span class="p">:</span><span class="mi">23</span><span class="p">:</span><span class="mi">08</span><span class="o">|</span><span class="mi">9053</span><span class="o">=</span><span class="mf">0.8</span><span class="o">|</span><span class="mi">453</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">448</span><span class="o">=</span><span class="n">FXCMID</span><span class="o">|</span><span class="mi">447</span><span class="o">=</span><span class="n">D</span><span class="o">|</span><span class="mi">452</span><span class="o">=</span><span class="mi">3</span><span class="o">|</span><span class="mi">802</span><span class="o">=</span><span class="mi">4</span><span class="o">|</span><span class="mi">523</span><span class="o">=</span><span class="mi">32</span><span class="o">|</span><span class="mi">803</span><span class="o">=</span><span class="mi">26</span><span class="o">|</span><span class="mi">523</span><span class="o">=</span><span class="n">d101968168</span><span class="o">|</span><span class="mi">803</span><span class="o">=</span><span class="mi">2</span><span class="o">|</span><span class="mi">523</span><span class="o">=</span><span class="n">fix</span><span class="o">-</span><span class="n">test112</span><span class="o">|</span><span class="mi">803</span><span class="o">=</span><span class="mi">22</span><span class="o">|</span><span class="mi">523</span><span class="o">=</span><span class="mi">1958448</span><span class="o">|</span><span class="mi">803</span><span class="o">=</span><span class="mi">10</span><span class="o">|</span><span class="mi">702</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">703</span><span class="o">=</span><span class="n">TQ</span><span class="o">|</span><span class="mi">704</span><span class="o">=</span><span class="mi">10000</span><span class="o">|</span><span class="mi">753</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">707</span><span class="o">=</span><span class="n">CASH</span><span class="o">|</span><span class="mi">708</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">10</span><span class="o">=</span><span class="mi">137</span><span class="o">|</span>
</pre></div>
</div>
</div>
<div class="section" id="how-can-i-get-closed-positions">
<h3>6. How can I get closed positions?<a class="headerlink" href="#how-can-i-get-closed-positions" title="Permalink to this headline">¶</a></h3>
<p>First you need to send position request with <code class="docutils literal notranslate"><span class="pre">724=1</span></code></p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">8</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span><span class="o">|</span><span class="mi">9</span><span class="o">=</span><span class="mi">177</span><span class="o">|</span><span class="mi">35</span><span class="o">=</span><span class="n">AN</span><span class="o">|</span><span class="mi">34</span><span class="o">=</span><span class="mi">6</span><span class="o">|</span><span class="mi">49</span><span class="o">=</span><span class="n">d101968168_client1</span><span class="o">|</span><span class="mi">52</span><span class="o">=</span><span class="mi">20151111</span><span class="o">-</span><span class="mi">21</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">12.400</span><span class="o">|</span><span class="mi">56</span><span class="o">=</span><span class="n">FXCM</span><span class="o">|</span><span class="mi">57</span><span class="o">=</span><span class="n">U100D1</span><span class="o">|</span><span class="mi">1</span><span class="o">=</span><span class="mi">01958448</span><span class="o">|</span><span class="mi">60</span><span class="o">=</span><span class="mi">20151111</span><span class="o">-</span><span class="mi">21</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">12.400</span><span class="o">|</span><span class="mi">263</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">581</span><span class="o">=</span><span class="mi">6</span><span class="o">|</span><span class="mi">710</span><span class="o">=</span><span class="mi">5</span><span class="o">|</span><span class="mi">715</span><span class="o">=</span><span class="mi">20151111</span><span class="o">|</span><span class="mi">724</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">9012</span><span class="o">=</span><span class="mi">20150311</span><span class="o">|</span><span class="mi">9014</span><span class="o">=</span><span class="mi">20151112</span><span class="o">|</span><span class="mi">10</span><span class="o">=</span><span class="mi">110</span><span class="o">|</span>
<span class="mi">9043</span>       <span class="n">Closing</span> <span class="n">price</span>
<span class="mi">730</span>         <span class="n">Open</span> <span class="n">price</span>
<span class="mi">9052</span>       <span class="n">PnL</span> <span class="k">for</span> <span class="n">the</span> <span class="n">closed</span> <span class="n">position</span>
<span class="mi">9053</span>       <span class="n">Commission</span>
<span class="mi">9040</span>       <span class="n">Interest</span>  <span class="n">fee</span> <span class="n">associated</span> <span class="n">whit</span> <span class="n">this</span> <span class="n">position</span>
<span class="mi">9038</span>       <span class="n">used</span> <span class="n">margin</span>

<span class="mi">8</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span><span class="o">|</span><span class="mi">9</span><span class="o">=</span><span class="mi">702</span><span class="o">|</span><span class="mi">35</span><span class="o">=</span><span class="n">AP</span><span class="o">|</span><span class="mi">34</span><span class="o">=</span><span class="mi">20</span><span class="o">|</span><span class="mi">49</span><span class="o">=</span><span class="n">FXCM</span><span class="o">|</span><span class="mi">50</span><span class="o">=</span><span class="n">U100D1</span><span class="o">|</span><span class="mi">52</span><span class="o">=</span><span class="mi">20151111</span><span class="o">-</span><span class="mi">21</span><span class="p">:</span><span class="mi">01</span><span class="p">:</span><span class="mf">11.936</span><span class="o">|</span><span class="mi">56</span><span class="o">=</span><span class="n">d101968168_client1</span><span class="o">|</span><span class="mi">1</span><span class="o">=</span><span class="mi">01958448</span><span class="o">|</span><span class="mi">11</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span><span class="p">:</span><span class="n">d101968168_client1</span><span class="o">-&gt;</span><span class="n">FXCM</span><span class="o">/</span><span class="n">U100D1</span><span class="o">-</span><span class="mi">1428599035518</span><span class="o">-</span><span class="mi">4</span><span class="o">|</span><span class="mi">15</span><span class="o">=</span><span class="n">EUR</span><span class="o">|</span><span class="mi">37</span><span class="o">=</span><span class="mi">202027586</span><span class="o">|</span><span class="mi">55</span><span class="o">=</span><span class="n">EUR</span><span class="o">/</span><span class="n">USD</span><span class="o">|</span><span class="mi">60</span><span class="o">=</span><span class="mi">20150519</span><span class="o">-</span><span class="mi">03</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">43</span><span class="o">|</span><span class="mi">325</span><span class="o">=</span><span class="n">N</span><span class="o">|</span><span class="mi">336</span><span class="o">=</span><span class="n">FXCM</span><span class="o">|</span><span class="mi">526</span><span class="o">=</span><span class="n">fix_example_test</span><span class="o">|</span><span class="mi">581</span><span class="o">=</span><span class="mi">6</span><span class="o">|</span><span class="mi">625</span><span class="o">=</span><span class="n">U100D1</span><span class="o">|</span><span class="mi">710</span><span class="o">=</span><span class="mi">5</span><span class="o">|</span><span class="mi">715</span><span class="o">=</span><span class="mi">20151111</span><span class="o">|</span><span class="mi">721</span><span class="o">=</span><span class="mi">3533878441</span><span class="o">|</span><span class="mi">724</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">727</span><span class="o">=</span><span class="mi">13</span><span class="o">|</span><span class="mi">728</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">730</span><span class="o">=</span><span class="mf">1.06572</span><span class="o">|</span><span class="mi">731</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">734</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">912</span><span class="o">=</span><span class="n">Y</span><span class="o">|</span><span class="mi">9000</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">9040</span><span class="o">=-</span><span class="mf">6.08</span><span class="o">|</span><span class="mi">9041</span><span class="o">=</span><span class="mi">78911063</span><span class="o">|</span><span class="mi">9042</span><span class="o">=</span><span class="mi">20150409</span><span class="o">-</span><span class="mi">17</span><span class="p">:</span><span class="mi">03</span><span class="p">:</span><span class="mi">56</span><span class="o">|</span><span class="mi">9043</span><span class="o">=</span><span class="mf">1.12979</span><span class="o">|</span><span class="mi">9044</span><span class="o">=</span><span class="mi">20150519</span><span class="o">-</span><span class="mi">03</span><span class="p">:</span><span class="mi">30</span><span class="p">:</span><span class="mi">43</span><span class="o">|</span><span class="mi">9048</span><span class="o">=</span><span class="n">U100D1_16679142D2EE08ABE053142B3C0A452A_05192015032653174913_QCV</span><span class="o">-</span><span class="mi">127</span><span class="o">|</span><span class="mi">9049</span><span class="o">=</span><span class="n">FXTS</span><span class="o">|</span><span class="mi">9052</span><span class="o">=</span><span class="mf">640.7</span><span class="o">|</span><span class="mi">9053</span><span class="o">=</span><span class="mf">0.8</span><span class="o">|</span><span class="mi">9054</span><span class="o">=</span><span class="mi">204437509</span><span class="o">|</span><span class="mi">453</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">448</span><span class="o">=</span><span class="n">FXCM</span> <span class="n">ID</span><span class="o">|</span><span class="mi">447</span><span class="o">=</span><span class="n">D</span><span class="o">|</span><span class="mi">452</span><span class="o">=</span><span class="mi">3</span><span class="o">|</span><span class="mi">802</span><span class="o">=</span><span class="mi">4</span><span class="o">|</span><span class="mi">523</span><span class="o">=</span><span class="mi">32</span><span class="o">|</span><span class="mi">803</span><span class="o">=</span><span class="mi">26</span><span class="o">|</span><span class="mi">523</span><span class="o">=</span><span class="n">d101968168</span><span class="o">|</span><span class="mi">803</span><span class="o">=</span><span class="mi">2</span><span class="o">|</span><span class="mi">523</span><span class="o">=</span><span class="n">fix</span><span class="o">-</span><span class="n">test112</span><span class="o">|</span><span class="mi">803</span><span class="o">=</span><span class="mi">22</span><span class="o">|</span><span class="mi">523</span><span class="o">=</span><span class="mi">1958448</span><span class="o">|</span><span class="mi">803</span><span class="o">=</span><span class="mi">10</span><span class="o">|</span><span class="mi">702</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">703</span><span class="o">=</span><span class="n">TQ</span><span class="o">|</span><span class="mi">704</span><span class="o">=</span><span class="mi">10000</span><span class="o">|</span><span class="mi">753</span><span class="o">=</span><span class="mi">1</span><span class="o">|</span><span class="mi">707</span><span class="o">=</span><span class="n">CASH</span><span class="o">|</span><span class="mi">708</span><span class="o">=</span><span class="mi">0</span><span class="o">|</span><span class="mi">10</span><span class="o">=</span><span class="mi">042</span><span class="o">|</span>
</pre></div>
</div>
</div>
<div class="section" id="how-can-i-close-open-positions">
<h3>7. How can I close open positions?<a class="headerlink" href="#how-can-i-close-open-positions" title="Permalink to this headline">¶</a></h3>
<p>If your account is <strong>non-hedgng</strong> account, you just need to send same qantity with opposite side.</p>
<p>If your account is <strong>hedging</strong> account, get the ticket id tag <code class="docutils literal notranslate"><span class="pre">9041</span></code> from open position then send single market order with ticket id = 9041 and opposite side.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="mi">20160404</span><span class="o">-</span><span class="mi">06</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mf">07.432</span> <span class="p">:</span> <span class="mi">8</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span> <span class="mi">9</span><span class="o">=</span><span class="mi">193</span> <span class="mi">35</span><span class="o">=</span><span class="n">D</span> <span class="mi">34</span><span class="o">=</span><span class="mi">7</span> <span class="mi">49</span><span class="o">=</span><span class="n">D101546502001_client1</span> <span class="mi">52</span><span class="o">=</span><span class="mi">20160404</span><span class="o">-</span><span class="mi">06</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mf">07.432</span> <span class="mi">56</span><span class="o">=</span><span class="n">FXCM</span> <span class="mi">57</span><span class="o">=</span><span class="n">U100D1</span> <span class="mi">1</span><span class="o">=</span><span class="mi">01537581</span> <span class="mi">11</span><span class="o">=</span><span class="mi">635953582874324718</span> <span class="mi">38</span><span class="o">=</span><span class="mi">100000</span> <span class="mi">40</span><span class="o">=</span><span class="mi">1</span> <span class="mi">44</span><span class="o">=</span><span class="mf">0.99629</span> <span class="mi">54</span><span class="o">=</span><span class="mi">2</span> <span class="mi">55</span><span class="o">=</span><span class="n">AUD</span><span class="o">/</span><span class="n">CAD</span> <span class="mi">59</span><span class="o">=</span><span class="mi">1</span> <span class="mi">60</span><span class="o">=</span><span class="mi">20160404</span><span class="o">-</span><span class="mi">06</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">07</span> <span class="mi">9041</span><span class="o">=</span><span class="mi">89061181</span> <span class="mi">10</span><span class="o">=</span><span class="mi">006</span>

<span class="mi">20160404</span><span class="o">-</span><span class="mi">06</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mf">07.922</span> <span class="p">:</span> <span class="mi">8</span><span class="o">=</span><span class="n">FIX</span><span class="o">.</span><span class="mf">4.4</span> <span class="mi">9</span><span class="o">=</span><span class="mi">489</span> <span class="mi">35</span><span class="o">=</span><span class="mi">8</span> <span class="mi">34</span><span class="o">=</span><span class="mi">15</span> <span class="mi">49</span><span class="o">=</span><span class="n">FXCM</span> <span class="mi">50</span><span class="o">=</span><span class="n">U100D1</span> <span class="mi">52</span><span class="o">=</span><span class="mi">20160404</span><span class="o">-</span><span class="mi">06</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mf">07.634</span> <span class="mi">56</span><span class="o">=</span><span class="n">D101546502001_client1</span> <span class="mi">1</span><span class="o">=</span><span class="mi">01537581</span> <span class="mi">6</span><span class="o">=</span><span class="mf">0.99631</span> <span class="mi">11</span><span class="o">=</span><span class="mi">635953582874324718</span> <span class="mi">14</span><span class="o">=</span><span class="mi">100000</span> <span class="mi">15</span><span class="o">=</span><span class="n">AUD</span> <span class="mi">17</span><span class="o">=</span><span class="mi">819171964</span> <span class="mi">31</span><span class="o">=</span><span class="mf">0.99631</span> <span class="mi">32</span><span class="o">=</span><span class="mi">100000</span> <span class="mi">37</span><span class="o">=</span><span class="mi">225010828</span> <span class="mi">38</span><span class="o">=</span><span class="mi">100000</span> <span class="mi">39</span><span class="o">=</span><span class="mi">2</span> <span class="mi">40</span><span class="o">=</span><span class="mi">1</span> <span class="mi">44</span><span class="o">=</span><span class="mf">0.99631</span> <span class="mi">54</span><span class="o">=</span><span class="mi">2</span> <span class="mi">55</span><span class="o">=</span><span class="n">AUD</span><span class="o">/</span><span class="n">CAD</span> <span class="mi">58</span><span class="o">=</span><span class="n">Executed</span> <span class="mi">59</span><span class="o">=</span><span class="mi">1</span> <span class="mi">60</span><span class="o">=</span><span class="mi">20160404</span><span class="o">-</span><span class="mi">06</span><span class="p">:</span><span class="mi">18</span><span class="p">:</span><span class="mi">07</span> <span class="mi">99</span><span class="o">=</span><span class="mi">0</span> <span class="mi">150</span><span class="o">=</span><span class="n">F</span> <span class="mi">151</span><span class="o">=</span><span class="mi">0</span> <span class="mi">211</span><span class="o">=</span><span class="mi">0</span> <span class="mi">336</span><span class="o">=</span><span class="n">FXCM</span> <span class="mi">625</span><span class="o">=</span><span class="n">U100D1</span> <span class="mi">835</span><span class="o">=</span><span class="mi">0</span> <span class="mi">836</span><span class="o">=</span><span class="mi">0</span> <span class="mi">1094</span><span class="o">=</span><span class="mi">0</span> <span class="mi">9000</span><span class="o">=</span><span class="mi">16</span> <span class="mi">9041</span><span class="o">=</span><span class="mi">89061181</span> <span class="mi">9050</span><span class="o">=</span><span class="n">CM</span> <span class="mi">9051</span><span class="o">=</span><span class="n">F</span> <span class="mi">9061</span><span class="o">=</span><span class="mi">0</span> <span class="mi">453</span><span class="o">=</span><span class="mi">1</span> <span class="mi">448</span><span class="o">=</span><span class="n">FXCM</span> <span class="n">ID</span> <span class="mi">447</span><span class="o">=</span><span class="n">D</span> <span class="mi">452</span><span class="o">=</span><span class="mi">3</span> <span class="mi">802</span><span class="o">=</span><span class="mi">4</span> <span class="mi">523</span><span class="o">=</span><span class="mi">1537581</span> <span class="mi">803</span><span class="o">=</span><span class="mi">10</span> <span class="mi">523</span><span class="o">=</span><span class="n">d101546502001</span> <span class="mi">803</span><span class="o">=</span><span class="mi">2</span> <span class="mi">523</span><span class="o">=</span><span class="n">Halpert</span> <span class="mi">803</span><span class="o">=</span><span class="mi">22</span> <span class="mi">523</span><span class="o">=</span><span class="mi">32</span> <span class="mi">803</span><span class="o">=</span><span class="mi">26</span> <span class="mi">10</span><span class="o">=</span><span class="mi">128</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="sample-code-in-c">
<h2>Sample Code in C++<a class="headerlink" href="#sample-code-in-c" title="Permalink to this headline">¶</a></h2>
<div class="section" id="get-fxcm-system-parameters-c">
<h3>1. Get FXCM System Parameters: C++<a class="headerlink" href="#get-fxcm-system-parameters-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">FixApplication</span><span class="p">::</span><span class="n">onMessage</span><span class="p">(</span><span class="n">const</span> <span class="n">FIX44</span><span class="p">::</span><span class="n">TradingSessionStatus</span><span class="o">&amp;</span> <span class="n">tss</span><span class="p">,</span> <span class="n">const</span> <span class="n">SessionID</span><span class="o">&amp;</span> <span class="n">session_ID</span><span class="p">)</span>
<span class="p">{</span>
        <span class="nb">int</span> <span class="n">param_count</span> <span class="o">=</span> <span class="n">FIX</span><span class="p">::</span><span class="n">IntConvertor</span><span class="p">::</span><span class="n">convert</span><span class="p">(</span><span class="n">tss</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="mi">9016</span><span class="p">));</span>

        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;TSS - FXCM System Parameters&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">for</span><span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">=&lt;</span> <span class="n">param_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
                <span class="n">FIX</span><span class="p">::</span><span class="n">FieldMap</span> <span class="nb">map</span>  <span class="o">=</span> <span class="n">tss</span><span class="o">.</span><span class="n">getGroupRef</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="mi">9016</span><span class="p">);</span>

                <span class="n">string</span> <span class="n">param_name</span>  <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="mi">9017</span><span class="p">);</span>
                <span class="n">string</span> <span class="n">param_value</span> <span class="o">=</span> <span class="nb">map</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="mi">9018</span><span class="p">);</span>

                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="n">param_name</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot; - &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">param_value</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="get-rollover-interest-c">
<h3>2. Get Rollover Interest: C++<a class="headerlink" href="#get-rollover-interest-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">FixApplication</span><span class="p">::</span><span class="n">onMessage</span><span class="p">(</span><span class="n">const</span> <span class="n">FIX44</span><span class="p">::</span><span class="n">TradingSessionStatus</span><span class="o">&amp;</span> <span class="n">tss</span><span class="p">,</span> <span class="n">const</span> <span class="n">SessionID</span><span class="o">&amp;</span> <span class="n">session_ID</span><span class="p">)</span>
<span class="p">{</span>
        <span class="nb">int</span> <span class="n">symbols_count</span> <span class="o">=</span> <span class="n">IntConvertor</span><span class="p">::</span><span class="n">convert</span><span class="p">(</span><span class="n">tss</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">NoRelatedSym</span><span class="p">));</span>
        <span class="k">for</span><span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">symbols_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">FIX44</span><span class="p">::</span><span class="n">SecurityList</span><span class="p">::</span><span class="n">NoRelatedSym</span> <span class="n">symbols_group</span><span class="p">;</span>
                <span class="n">tss</span><span class="o">.</span><span class="n">getGroup</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">symbols_group</span><span class="p">);</span>
                <span class="n">string</span> <span class="n">symbol</span> <span class="o">=</span> <span class="n">symbols_group</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">Symbol</span><span class="p">);</span>

                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;    Symbol -&gt; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">symbol</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;      RolloverBuy -&gt; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">symbols_group</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="mi">9003</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;      RolloverSell -&gt; &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">symbols_group</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="mi">9004</span><span class="p">)</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="determine-hedging-status-c">
<h3>3. Determine Hedging Status: C++<a class="headerlink" href="#determine-hedging-status-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">FixApplication</span><span class="p">::</span><span class="n">onMessage</span><span class="p">(</span><span class="n">const</span> <span class="n">FIX44</span><span class="p">::</span><span class="n">CollateralReport</span><span class="o">&amp;</span> <span class="n">cr</span><span class="p">,</span> <span class="n">const</span> <span class="n">SessionID</span><span class="o">&amp;</span> <span class="n">session_ID</span><span class="p">)</span>
<span class="p">{</span>
        <span class="n">FIX44</span><span class="p">::</span><span class="n">CollateralReport</span><span class="p">::</span><span class="n">NoPartyIDs</span> <span class="n">group</span><span class="p">;</span>
        <span class="n">cr</span><span class="o">.</span><span class="n">getGroup</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span><span class="n">group</span><span class="p">);</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;  Parties -&gt; &quot;</span><span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>

        <span class="nb">int</span> <span class="n">number_subID</span> <span class="o">=</span> <span class="n">IntConvertor</span><span class="p">::</span><span class="n">convert</span><span class="p">(</span><span class="n">group</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">NoPartySubIDs</span><span class="p">));</span>
        <span class="k">for</span><span class="p">(</span><span class="nb">int</span> <span class="n">u</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">u</span> <span class="o">&lt;=</span> <span class="n">number_subID</span><span class="p">;</span> <span class="n">u</span><span class="o">++</span><span class="p">){</span>
                <span class="n">FIX44</span><span class="p">::</span><span class="n">CollateralReport</span><span class="p">::</span><span class="n">NoPartyIDs</span><span class="p">::</span><span class="n">NoPartySubIDs</span> <span class="n">sub_group</span><span class="p">;</span>
                <span class="n">group</span><span class="o">.</span><span class="n">getGroup</span><span class="p">(</span><span class="n">u</span><span class="p">,</span> <span class="n">sub_group</span><span class="p">);</span>

                <span class="n">string</span> <span class="n">sub_type</span>  <span class="o">=</span> <span class="n">sub_group</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">PartySubIDType</span><span class="p">);</span>
                <span class="n">string</span> <span class="n">sub_value</span> <span class="o">=</span> <span class="n">sub_group</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">PartySubID</span><span class="p">);</span>
                <span class="k">if</span><span class="p">(</span><span class="n">sub_type</span> <span class="o">==</span> <span class="s2">&quot;4000&quot;</span><span class="p">){</span>
                        <span class="o">//</span> <span class="n">Check</span> <span class="n">sub_value</span> <span class="k">for</span> <span class="n">position</span> <span class="n">maintenance</span>
                <span class="o">//</span> <span class="n">Y</span> <span class="o">=</span> <span class="n">Hedging</span>
                        <span class="o">//</span> <span class="n">N</span> <span class="o">=</span> <span class="n">No</span> <span class="n">Hedging</span>
                <span class="o">//</span> <span class="mi">0</span> <span class="o">=</span> <span class="n">Netting</span>
                <span class="p">}</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="subscribe-to-a-symbol-c">
<h3>4. Subscribe to a Symbol: C++<a class="headerlink" href="#subscribe-to-a-symbol-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">string</span> <span class="n">request_ID</span> <span class="o">=</span> <span class="s2">&quot;EUR_USD_Request_&quot;</span><span class="p">;</span>
<span class="n">FIX44</span><span class="p">::</span><span class="n">MarketDataRequest</span> <span class="n">request</span><span class="p">;</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDReqID</span><span class="p">(</span><span class="n">request_ID</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">SubscriptionRequestType</span><span class="p">(</span>
        <span class="n">SubscriptionRequestType_SNAPSHOT_PLUS_UPDATES</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MarketDepth</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">NoRelatedSym</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">MarketDataRequest</span><span class="p">::</span><span class="n">NoRelatedSym</span> <span class="n">symbols_group</span><span class="p">;</span>
<span class="n">symbols_group</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">Symbol</span><span class="p">(</span><span class="s2">&quot;EUR/USD&quot;</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">symbols_group</span><span class="p">);</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">MarketDataRequest</span><span class="p">::</span><span class="n">NoMDEntryTypes</span> <span class="n">entry_types</span><span class="p">;</span>
<span class="n">entry_types</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">MDEntryType_BID</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">entry_types</span><span class="p">);</span>
<span class="n">entry_types</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">MDEntryType_OFFER</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">entry_types</span><span class="p">);</span>
<span class="n">entry_types</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">MDEntryType_TRADING_SESSION_HIGH_PRICE</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">entry_types</span><span class="p">);</span>
<span class="n">entry_types</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">MDEntryType_TRADING_SESSION_LOW_PRICE</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">entry_types</span><span class="p">);</span>

<span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">sessionID</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="subscribe-to-all-symbols-c">
<h3>5. Subscribe to All Symbols: C++<a class="headerlink" href="#subscribe-to-all-symbols-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">FixApplication</span><span class="p">::</span><span class="n">onMessage</span><span class="p">(</span><span class="n">const</span> <span class="n">FIX44</span><span class="p">::</span><span class="n">TradingSessionStatus</span><span class="o">&amp;</span> <span class="n">tss</span><span class="p">,</span> <span class="n">const</span> <span class="n">SessionID</span><span class="o">&amp;</span> <span class="n">session_ID</span><span class="p">)</span>
<span class="p">{</span>
        <span class="n">FIX44</span><span class="p">::</span><span class="n">MarketDataRequest</span> <span class="n">request</span><span class="p">;</span>
        <span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDReqID</span><span class="p">(</span><span class="n">NextRequestID</span><span class="p">()));</span>
        <span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">SubscriptionRequestType</span><span class="p">(</span>
                <span class="n">SubscriptionRequestType_SNAPSHOT_PLUS_UPDATES</span><span class="p">));</span>
        <span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MarketDepth</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>

        <span class="n">FIX44</span><span class="p">::</span><span class="n">MarketDataRequest</span><span class="p">::</span><span class="n">NoMDEntryTypes</span> <span class="n">entry_types</span><span class="p">;</span>
        <span class="n">entry_types</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">MDEntryType_BID</span><span class="p">));</span>
        <span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">entry_types</span><span class="p">);</span>
        <span class="n">entry_types</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">MDEntryType_OFFER</span><span class="p">));</span>
        <span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">entry_types</span><span class="p">);</span>
        <span class="n">entry_types</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">MDEntryType_TRADING_SESSION_HIGH_PRICE</span><span class="p">));</span>
        <span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">entry_types</span><span class="p">);</span>
        <span class="n">entry_types</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MDEntryType</span><span class="p">(</span><span class="n">MDEntryType_TRADING_SESSION_LOW_PRICE</span><span class="p">));</span>
        <span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">entry_types</span><span class="p">);</span>

        <span class="nb">int</span> <span class="n">symbols_count</span> <span class="o">=</span> <span class="n">IntConvertor</span><span class="p">::</span><span class="n">convert</span><span class="p">(</span><span class="n">tss</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">NoRelatedSym</span><span class="p">));</span>
        <span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">NoRelatedSym</span><span class="p">(</span><span class="n">symbols_count</span><span class="p">));</span>
        <span class="k">for</span><span class="p">(</span><span class="nb">int</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;=</span> <span class="n">symbols_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">){</span>
                <span class="n">FIX44</span><span class="p">::</span><span class="n">SecurityList</span><span class="p">::</span><span class="n">NoRelatedSym</span> <span class="n">symbols_group_SL</span><span class="p">;</span>
                <span class="n">tss</span><span class="o">.</span><span class="n">getGroup</span><span class="p">(</span><span class="n">i</span><span class="p">,</span><span class="n">symbols_group_SL</span><span class="p">);</span>
                <span class="n">string</span> <span class="n">symbol</span> <span class="o">=</span> <span class="n">symbols_group_SL</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">Symbol</span><span class="p">);</span>

                <span class="n">FIX44</span><span class="p">::</span><span class="n">MarketDataRequest</span><span class="p">::</span><span class="n">NoRelatedSym</span> <span class="n">symbols_group_MDR</span><span class="p">;</span>
                <span class="n">symbols_group_MDR</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">));</span>
                <span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">symbols_group_MDR</span><span class="p">);</span>
        <span class="p">}</span>

        <span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">sessionID</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="create-market-order-c">
<h3>6. Create Market Order: C++<a class="headerlink" href="#create-market-order-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderSingle</span> <span class="n">order</span><span class="p">;</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">NextClOrdID</span><span class="p">()));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="s2">&quot;EUR/USD&quot;</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_BUY</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TransactTime</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TransactTime</span><span class="p">()));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">10000</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_MARKET</span><span class="p">));</span>

<span class="n">FIX</span><span class="p">::</span><span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="n">session_id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="create-market-range-order-c">
<h3>7. Create Market Range Order: C++<a class="headerlink" href="#create-market-range-order-c" title="Permalink to this headline">¶</a></h3>
<p>In the case of a market range order, we set the OrdType to StopLimit and we must set the <code class="docutils literal notranslate"><span class="pre">StopPx</span></code> tag. The <code class="docutils literal notranslate"><span class="pre">StopPx</span></code> tag indicates the worst price we are willing to get filled at; i.e., the stop.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderSingle</span> <span class="n">order</span><span class="p">;</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">NextClOrdID</span><span class="p">()));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="s2">&quot;EUR/USD&quot;</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_BUY</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TransactTime</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TransactTime</span><span class="p">()));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">10000</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_STOPLIMIT</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">StopPx</span><span class="p">(</span><span class="n">stop</span><span class="p">));</span>

<span class="n">FIX</span><span class="p">::</span><span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="n">session_id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="create-entry-pending-order-c">
<h3>8. Create Entry (Pending) Order: C++<a class="headerlink" href="#create-entry-pending-order-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderSingle</span> <span class="n">order</span><span class="p">;</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">NextClOrdID</span><span class="p">()));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="s2">&quot;EUR/USD&quot;</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_BUY</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TransactTime</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TransactTime</span><span class="p">()));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">10000</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_LIMIT</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Price</span><span class="p">(</span><span class="n">price</span><span class="p">));</span>

<span class="n">FIX</span><span class="p">::</span><span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">order</span><span class="p">,</span><span class="n">session_id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="create-one-cancels-other-oco-order-c">
<h3>9. Create One-Cancels-Other (OCO) Order: C++<a class="headerlink" href="#create-one-cancels-other-oco-order-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span> <span class="n">olist</span><span class="p">;</span>

<span class="n">olist</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListID</span><span class="p">(</span><span class="n">NextClOrdID</span><span class="p">()));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TotNoOrders</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ContingencyType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ContingencyType_ONE_CANCELS_THE_OTHER</span><span class="p">));</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span><span class="p">::</span><span class="n">NoOrders</span> <span class="n">stop</span><span class="p">;</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">next_ClOrdID</span><span class="p">()));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListSeqNo</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdLinkID</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_SELL</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">20000</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_STOP</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">StopPx</span><span class="p">(</span><span class="n">stop_price</span><span class="p">));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">stop</span><span class="p">);</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span><span class="p">::</span><span class="n">NoOrders</span> <span class="n">limit</span><span class="p">;</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">next_ClOrdID</span><span class="p">()));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListSeqNo</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdLinkID</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_SELL</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">20000</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_LIMIT</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Price</span><span class="p">(</span><span class="n">limit_price</span><span class="p">));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">limit</span><span class="p">);</span>

<span class="n">FIX</span><span class="p">::</span><span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">olist</span><span class="p">,</span><span class="n">session_id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="create-entry-with-limit-and-stop-els-order-c">
<h3>10. Create Entry with Limit and Stop (ELS) Order: C++<a class="headerlink" href="#create-entry-with-limit-and-stop-els-order-c" title="Permalink to this headline">¶</a></h3>
<p>The entry with limit and stop is a FXCM specific contingency type that allows you to associate a stop and limit with a specific position (or market order). In this case, the ContingencyType field must be set to <code class="docutils literal notranslate"><span class="pre">101</span></code> for the ELS contingency. When the stop or limit is executed, or when you close the position, these contingent orders will be deleted automatically.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span> <span class="n">olist</span><span class="p">;</span>

<span class="n">olist</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListID</span><span class="p">(</span><span class="n">next_ClOrdID</span><span class="p">()));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TotNoOrders</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">FIELD</span><span class="p">::</span><span class="n">ContingencyType</span><span class="p">,</span><span class="s2">&quot;101&quot;</span><span class="p">);</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span><span class="p">::</span><span class="n">NoOrders</span> <span class="n">order</span><span class="p">;</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">next_ClOrdID</span><span class="p">()));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListSeqNo</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdLinkID</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_BUY</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">10000</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_MARKET</span><span class="p">));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span><span class="p">::</span><span class="n">NoOrders</span> <span class="n">stop</span><span class="p">;</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">next_ClOrdID</span><span class="p">()));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListSeqNo</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdLinkID</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_SELL</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">10000</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_STOP</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">StopPx</span><span class="p">(</span><span class="n">stop_price</span><span class="p">));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">stop</span><span class="p">);</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span><span class="p">::</span><span class="n">NoOrders</span> <span class="n">limit</span><span class="p">;</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">next_ClOrdID</span><span class="p">()));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListSeqNo</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdLinkID</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_SELL</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">10000</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_LIMIT</span><span class="p">));</span>
<span class="n">limit</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Price</span><span class="p">(</span><span class="n">limit_price</span><span class="p">));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">limit</span><span class="p">);</span>

<span class="n">FIX</span><span class="p">::</span><span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">olist</span><span class="p">,</span><span class="n">session_id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="create-market-order-with-trailing-stop-c">
<h3>11. Create Market Order with Trailing Stop: C++<a class="headerlink" href="#create-market-order-with-trailing-stop-c" title="Permalink to this headline">¶</a></h3>
<p>In our example below, we use two orders with ELS contingency type (see above for details on ELS). Specifically, we send both a market order and a stop order. What makes this stop order a trailing stop is the existence of the <code class="docutils literal notranslate"><span class="pre">FXCMPegFluctuatePts(9061)</span></code> tag, which we have enumerated as <code class="docutils literal notranslate"><span class="pre">FXCM_PEG_FLUCTUATE_PTS</span></code>. This field is set to``10`` which means our stop will trail the market at a rate of 10 pips.</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span> <span class="n">olist</span><span class="p">;</span>
<span class="n">olist</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListID</span><span class="p">(</span><span class="n">next_ClOrdID</span><span class="p">()));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">TotNoOrders</span><span class="p">(</span><span class="mi">2</span><span class="p">));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">FIELD</span><span class="p">::</span><span class="n">ContingencyType</span><span class="p">,</span><span class="s2">&quot;101&quot;</span><span class="p">);</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span><span class="p">::</span><span class="n">NoOrders</span> <span class="n">order</span><span class="p">;</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">next_ClOrdID</span><span class="p">()));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListSeqNo</span><span class="p">(</span><span class="mi">0</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdLinkID</span><span class="p">(</span><span class="s2">&quot;1&quot;</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_BUY</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">10000</span><span class="p">));</span>
<span class="n">order</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_MARKET</span><span class="p">));</span>
<span class="n">olist</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">order</span><span class="p">);</span>

<span class="n">FIX44</span><span class="p">::</span><span class="n">NewOrderList</span><span class="p">::</span><span class="n">NoOrders</span> <span class="n">stop</span><span class="p">;</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdID</span><span class="p">(</span><span class="n">next_ClOrdID</span><span class="p">()));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ListSeqNo</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">ClOrdLinkID</span><span class="p">(</span><span class="s2">&quot;2&quot;</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Account</span><span class="p">(</span><span class="n">account</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Side_SELL</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">Symbol</span><span class="p">(</span><span class="n">symbol</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrderQty</span><span class="p">(</span><span class="mi">10000</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">OrdType_STOP</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FIX</span><span class="p">::</span><span class="n">StopPx</span><span class="p">(</span><span class="n">stop_price</span><span class="p">));</span>
<span class="n">stop</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">FXCM_PEG_FLUCTUATE_PTS</span><span class="p">,</span> <span class="s2">&quot;10&quot;</span><span class="p">);</span>
<span class="n">olist</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">stop</span><span class="p">);</span>

<span class="n">FIX</span><span class="p">::</span><span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">olist</span><span class="p">,</span><span class="n">session_id</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="get-order-status-and-executed-amount-c">
<h3>12. Get Order Status and Executed Amount: C++<a class="headerlink" href="#get-order-status-and-executed-amount-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">void</span> <span class="n">FixApplication</span><span class="p">::</span><span class="n">onMessage</span><span class="p">(</span><span class="n">const</span> <span class="n">FIX44</span><span class="p">::</span><span class="n">ExecutionReport</span><span class="o">&amp;</span> <span class="n">er</span><span class="p">,</span> <span class="n">const</span> <span class="n">SessionID</span><span class="o">&amp;</span> <span class="n">session_ID</span><span class="p">)</span>
<span class="p">{</span>
        <span class="n">string</span> <span class="n">status</span>  <span class="o">=</span> <span class="n">er</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">OrdStatus</span><span class="p">);</span>
        <span class="n">string</span> <span class="n">execQty</span> <span class="o">=</span> <span class="n">er</span><span class="o">.</span><span class="n">getField</span><span class="p">(</span><span class="n">FIELD</span><span class="p">::</span><span class="n">CumQty</span><span class="p">);</span>

        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;ExecutionReport -&gt;&quot;</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;  OrderStatus: &quot;</span> <span class="o">&lt;&lt;</span> <span class="n">status</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="k">if</span><span class="p">(</span><span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;2&quot;</span> <span class="o">/*</span><span class="n">Filled</span><span class="o">*/</span> <span class="o">||</span> <span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;8&quot;</span> <span class="o">/*</span><span class="n">Rejected</span> <span class="o">*/</span> <span class="o">||</span> <span class="n">status</span> <span class="o">==</span> <span class="s2">&quot;4&quot;</span> <span class="o">/*</span><span class="n">Cancelled</span><span class="o">*/</span><span class="p">)</span> <span class="p">{</span>
                <span class="n">cout</span> <span class="o">&lt;&lt;</span> <span class="s2">&quot;    Executed Amount: &quot;</span>  <span class="o">&lt;&lt;</span> <span class="n">execQty</span> <span class="o">&lt;&lt;</span> <span class="n">endl</span><span class="p">;</span>
        <span class="p">}</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="request-all-open-positions-c">
<h3>13. Request All Open Positions: C++<a class="headerlink" href="#request-all-open-positions-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">RequestForPositions</span> <span class="n">request</span><span class="p">;</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">PosReqID</span><span class="p">(</span><span class="n">NextRequestID</span><span class="p">()));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">PosReqType</span><span class="p">(</span><span class="n">PosReqType_POSITIONS</span><span class="p">));</span>

<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">Account</span><span class="p">(</span><span class="n">account_ID</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">SubscriptionRequestType</span><span class="p">(</span><span class="n">SubscriptionRequestType_SNAPSHOT_PLUS_UPDATES</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">AccountType</span><span class="p">(</span>
        <span class="n">AccountType_ACCOUNT_IS_CARRIED_ON_NON_CUSTOMER_SIDE_OF_BOOKS_AND_IS_CROSS_MARGINED</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">TransactTime</span><span class="p">());</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">ClearingBusinessDate</span><span class="p">());</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">TradingSessionID</span><span class="p">(</span><span class="s2">&quot;FXCM&quot;</span><span class="p">));</span>

<span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">sessionID</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="request-open-positions-for-a-single-account-c">
<h3>14. Request Open Positions for a Single Account: C++<a class="headerlink" href="#request-open-positions-for-a-single-account-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">RequestForPositions</span> <span class="n">request</span><span class="p">;</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">PosReqID</span><span class="p">(</span><span class="n">NextRequestID</span><span class="p">()));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">PosReqType</span><span class="p">(</span><span class="n">PosReqType_POSITIONS</span><span class="p">));</span>

<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">Account</span><span class="p">(</span><span class="n">account_ID</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">SubscriptionRequestType</span><span class="p">(</span><span class="n">SubscriptionRequestType_SNAPSHOT_PLUS_UPDATES</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">AccountType</span><span class="p">(</span>
        <span class="n">AccountType_ACCOUNT_IS_CARRIED_ON_NON_CUSTOMER_SIDE_OF_BOOKS_AND_IS_CROSS_MARGINED</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">TransactTime</span><span class="p">());</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">ClearingBusinessDate</span><span class="p">());</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">TradingSessionID</span><span class="p">(</span><span class="s2">&quot;FXCM&quot;</span><span class="p">));</span>

<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">NoPartyIDs</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="n">FIX44</span><span class="p">::</span><span class="n">RequestForPositions</span><span class="p">::</span><span class="n">NoPartyIDs</span> <span class="n">parties_group</span><span class="p">;</span>
<span class="n">parties_group</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">PartyID</span><span class="p">(</span><span class="s2">&quot;FXCM ID&quot;</span><span class="p">));</span>
<span class="n">parties_group</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">PartyIDSource</span><span class="p">(</span><span class="s1">&#39;D&#39;</span><span class="p">));</span>
<span class="n">parties_group</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">PartyRole</span><span class="p">(</span><span class="mi">3</span><span class="p">));</span>
<span class="n">parties_group</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">NoPartySubIDs</span><span class="p">(</span><span class="mi">1</span><span class="p">));</span>
<span class="n">FIX44</span><span class="p">::</span><span class="n">RequestForPositions</span><span class="p">::</span><span class="n">NoPartyIDs</span><span class="p">::</span><span class="n">NoPartySubIDs</span> <span class="n">sub_parties</span><span class="p">;</span>
<span class="n">sub_parties</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">PartySubIDType</span><span class="p">(</span><span class="n">PartySubIDType_SECURITIES_ACCOUNT_NUMBER</span><span class="p">));</span>
<span class="n">sub_parties</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">PartySubID</span><span class="p">(</span><span class="n">account_ID</span><span class="p">));</span>
<span class="n">parties_group</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">sub_parties</span><span class="p">);</span>
<span class="n">request</span><span class="o">.</span><span class="n">addGroup</span><span class="p">(</span><span class="n">parties_group</span><span class="p">);</span>

<span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">sessionID</span><span class="p">);</span>
</pre></div>
</div>
</div>
<div class="section" id="get-all-waiting-orders-c">
<h3>15. Get All Waiting Orders: C++<a class="headerlink" href="#get-all-waiting-orders-c" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">FIX44</span><span class="p">::</span><span class="n">OrderMassStatusRequest</span> <span class="n">request</span><span class="p">;</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MassStatusReqID</span><span class="p">(</span><span class="n">NextRequestID</span><span class="p">()));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">MassStatusReqType</span><span class="p">(</span><span class="n">MassStatusReqType_STATUS_FOR_ALL_ORDERS</span><span class="p">));</span>
<span class="n">request</span><span class="o">.</span><span class="n">setField</span><span class="p">(</span><span class="n">Account</span><span class="p">(</span><span class="n">account_ID</span><span class="p">));</span>
<span class="n">Session</span><span class="p">::</span><span class="n">sendToTarget</span><span class="p">(</span><span class="n">request</span><span class="p">,</span> <span class="n">sessionID</span><span class="p">);</span>
</pre></div>
</div>
</div>
</div>
<div class="section" id="fxcm-custom-fields">
<h2>FXCM Custom fields<a class="headerlink" href="#fxcm-custom-fields" title="Permalink to this headline">¶</a></h2>
<div class="section" id="from-tradingsessionstatus-h">
<h3>From TradingSessionStatus(h):<a class="headerlink" href="#from-tradingsessionstatus-h" title="Permalink to this headline">¶</a></h3>
<div class="section" id="fxcmsymprecision-9001">
<h4>FXCMSymPrecision (9001)<a class="headerlink" href="#fxcmsymprecision-9001" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This shows the numerical precision of the security. For example, the USD/JPY security would show a value of 3 for this field because it is quoted to 3 decimal places. AUD/USD would show a value of 5 for this field given that it is quoted to 5 decimal places.</div></blockquote>
</div>
<div class="section" id="fxcmsympointsize-9002">
<h4>FXCMSymPointSize (9002)<a class="headerlink" href="#fxcmsympointsize-9002" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>The size of the point (pip) of the security. For example, the EUR/USD security would show a value of 0.0001 for this field. This is useful for many purposes, such as calculating the profit or loss of a position in points.</div></blockquote>
</div>
<div class="section" id="fxcmsyminterestbuy-9003">
<h4>FXCMSymInterestBuy (9003)<a class="headerlink" href="#fxcmsyminterestbuy-9003" title="Permalink to this headline">¶</a></h4>
</div>
<div class="section" id="fxcmsyminterestsell-9004">
<h4>FXCMSymInterestSell (9004)<a class="headerlink" href="#fxcmsyminterestsell-9004" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div><p>The price is in the currency of your account for the default lot size for your server. If your account is in USD and server default lot size is 10k For example for CAD/JPY 9003(FXCMSymInterestBuy) = 0.64 - you will get $0.64 for 10k 9004(FXCMSymInterestSell) = -1.48 - you will pay $1.48 for 10k The server default lot size you can get from same report from tags: 9017=BASE_UNIT_SIZE 9018=10000</p>
<p>You can get it also from Trading Station in Simple Dealing Rates under columns Roll S and Roll B</p>
</div></blockquote>
</div>
<div class="section" id="fxcmproductid-9080">
<h4>FXCMProductID (9080)<a class="headerlink" href="#fxcmproductid-9080" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>FXCMProductID distinguishes each security by its type. There are 5 types of securities: 1-Forex, 2-Index, 3-Commodity, 4-Treasury, and 5-Bullion. As an example, GBP/USD would obviously show a value of 1 for this field, but the CFD Index JPY225 would show a value of 2.</div></blockquote>
</div>
<div class="section" id="fxcmconddiststop-9090">
<h4>FXCMCondDistStop (9090)<a class="headerlink" href="#fxcmconddiststop-9090" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>The value of this field indicates the minimum distance for stop orders on an open position. The distance referred to here is the distance between your stop order price and the current market price. For example, assume you want to place a stop order on an existing buy position. Your stop order price then must meet or exceed the minimum distance from the current bid (sell) price.</div></blockquote>
</div>
<div class="section" id="fxcmconddistlimit-9091">
<h4>FXCMCondDistLimit (9091)<a class="headerlink" href="#fxcmconddistlimit-9091" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>The value of this field indicates the minimum distance for limit orders on an open position. The distance referred to here is the distance between your limit order price and the current market price. For example, assume you want to place a limit order on an existing buy position. Your limit order price then must meet or exceed the minimum distance from the current Bid (Sell) price.</div></blockquote>
</div>
<div class="section" id="fxcmconddistentrystop-9092">
<h4>FXCMCondDistEntryStop (9092)<a class="headerlink" href="#fxcmconddistentrystop-9092" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This field indicates the minimum distance for new stop entry (pending) orders. The distance referred to here is the distance between your stop entry order price and the current market price. For example, assume you wanted to place a stop entry order to buy. The price of this order must or exceed the minimum distance from the current Ask (Buy) price.</div></blockquote>
</div>
<div class="section" id="fxcmconddistentrylimit-9093">
<h4>FXCMCondDistEntryLimit (9093)<a class="headerlink" href="#fxcmconddistentrylimit-9093" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This field indicates the minimum distance for new limit entry (pending) orders. The distance referred to here is the distance between your limit entry order price and the current market price. For example, assume you wanted to place a limit entry order to buy. The price of this order must or exceed the minimum distance from the current Ask (Buy) price.</div></blockquote>
</div>
<div class="section" id="fxcmmaxquantity-9094">
<h4>FXCMMaxQuantity (9094)<a class="headerlink" href="#fxcmmaxquantity-9094" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This is the largest quantity for which you can place an order.</div></blockquote>
</div>
<div class="section" id="fxcmminquantity-9095">
<h4>FXCMMinQuantity (9095)<a class="headerlink" href="#fxcmminquantity-9095" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This is the smallest quantity for which you can place an order. This field only applies to CFD products. The minimum trade size for Forex must be obtained from the Quantity(53) field from CollateralReport.</div></blockquote>
</div>
<div class="section" id="fxcmtradingstatus-9096">
<h4>FXCMTradingStatus (9096)<a class="headerlink" href="#fxcmtradingstatus-9096" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This field indicates whether the trading desk is opened or closed. When trading is open, this will return “O” for Open. When trading is closed, this will return “C” for Closed. Forex securities are open throughout the entire trading week. However, CFD securities such as Indices often have daily schedules and/or daily break times. In order to determine if a CFD security is both Open and Tradeable, you must refer to the MarketDataSnapshot message. See Requesting Market Data for more on this topic.</div></blockquote>
</div>
</div>
<div class="section" id="from-marketdatasnapshotfullrefresh-w">
<h3>From MarketDataSnapshotFullRefresh(W):<a class="headerlink" href="#from-marketdatasnapshotfullrefresh-w" title="Permalink to this headline">¶</a></h3>
<div class="section" id="trading-status">
<h4>Trading Status<a class="headerlink" href="#trading-status" title="Permalink to this headline">¶</a></h4>
<div class="section" id="field-quotetype-537">
<h5>Field: QuoteType(537)<a class="headerlink" href="#field-quotetype-537" title="Permalink to this headline">¶</a></h5>
</div>
<div class="section" id="field-quotecondition-276">
<h5>Field: QuoteCondition(276)<a class="headerlink" href="#field-quotecondition-276" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div>To determine if a specific instrument is open and available for trading, you must refer to the QuoteType(537) and QuoteCondition(276) tags from this message. With QuoteType, a value of 0 = Indicative, and a value of 1 = Tradeable. With QuoteCondition, a value of “A” = Open, and a value of “B” = Closed.</div></blockquote>
</div>
</div>
</div>
<div class="section" id="from-collateralreport-ba">
<h3>From CollateralReport(BA):<a class="headerlink" href="#from-collateralreport-ba" title="Permalink to this headline">¶</a></h3>
<div class="section" id="minimum-order-qty-forex">
<h4>Minimum Order Qty. - Forex<a class="headerlink" href="#minimum-order-qty-forex" title="Permalink to this headline">¶</a></h4>
<div class="section" id="field-quantity-53">
<h5>Field: Quantity(53)<a class="headerlink" href="#field-quantity-53" title="Permalink to this headline">¶</a></h5>
<blockquote>
<div>The value of this field represents the minimum quantity for which you can place a Forex order. This minimum quantity is specific to the trading account in the same CollateralReport. The Account(1) field can be used to obtain the AccountID. Most accounts are defaulted to 1,000 (Micro Lot).</div></blockquote>
</div>
</div>
</div>
<div class="section" id="fxcm-system-parameters">
<h3>FXCM System Parameters:<a class="headerlink" href="#fxcm-system-parameters" title="Permalink to this headline">¶</a></h3>
<p>The following is a list of parameter names. You will see these returned as the values for Tag 9017, FXCMParamName. The value of this parameter is found in Tag 9018, FXCMParamValue.</p>
<div class="section" id="base-crncy">
<h4>BASE_CRNCY<a class="headerlink" href="#base-crncy" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This parameter shows the currency of the account. Margin, P/L, balance, and equity will all be expressed in this currency. An example base currency would be “USD”.</div></blockquote>
</div>
<div class="section" id="server-time-utc">
<h4>SERVER_TIME_UTC<a class="headerlink" href="#server-time-utc" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>The value of this parameter indicates whether or not time values sent from the server will be expressed in UTC. If this is the case, the value of this parameter will be set to “UTC.” If the value of this parameter is not “UTC,” then time values sent from the server will be expressed in the local time zone of the server, which can be checked with the BASE_TIME_ZONE parameter.</div></blockquote>
</div>
<div class="section" id="base-time-zone">
<h4>BASE_TIME_ZONE<a class="headerlink" href="#base-time-zone" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This parameter shows the name of the time zone of the server. For example, “America/New_York.”</div></blockquote>
</div>
<div class="section" id="cond-dist">
<h4>COND_DIST<a class="headerlink" href="#cond-dist" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This parameter shows the minimum recommended distance between the price of new stop or limit orders and the current market price. This is expressed in pips and it is generally defaulted to 0.10. It important to note that CFD securities often have their own minimum stop or limit distances, which should be checked in the SecurityList message.</div></blockquote>
</div>
<div class="section" id="cond-dist-entry">
<h4>COND_DIST_ENTRY<a class="headerlink" href="#cond-dist-entry" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>This parameter shows the minimum recommended distance between the price of new stop entry or limit entry orders and the current market price. This is expressed in pips and it is generally defaulted to 0.10. It important to note that CFD securities often have their own minimum stop entry or limit entry distances, which should be checked in the SecurityList message.</div></blockquote>
</div>
<div class="section" id="base-unit-size">
<h4>BASE_UNIT_SIZE<a class="headerlink" href="#base-unit-size" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>The minimum order size allowed for Forex securities. For example, 1,000 (Micro Lot) or 10,000 (Mini Lot). Note that in order to check the minimum order size for CFD securities, it is necessary to check the FXCMMinQuantity (9095) Tag from the SecurityList message. It is recommended that your application relies on this field when determining minimum order size for all securities, including Forex.</div></blockquote>
</div>
<div class="section" id="end-trading-day">
<h4>END_TRADING_DAY<a class="headerlink" href="#end-trading-day" title="Permalink to this headline">¶</a></h4>
<blockquote>
<div>The value of this parameter contains the time when the trading day ends. The time is expressed in the format hh:mm:ss, where hh is in 24-hour format, mm is minutes, and ss is seconds. The time is always in UTC time. For example, 21:00:00.</div></blockquote>
<p><strong>Disclaimer</strong></p>
<p>High Risk Investment Warning: Trading foreign exchange and/or contracts for differences on margin carries a high level of risk, and may not be suitable for all investors. The possibility exists that you could sustain a loss in excess of your deposited funds and therefore, you should not speculate with capital that you cannot afford to lose. Before deciding to trade the products offered by FXCM you should carefully consider your objectives, financial situation, needs and level of experience. You should be aware of all the risks associated with trading on margin. FXCM provides general advice that does not take into account your objectives, financial situation or needs. The content of this Website must not be construed as personal advice. FXCM recommends you seek advice from a separate financial advisor.</p>
</div>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../javaapi.html" class="btn btn-neutral float-right" title="JAVA API Specifications" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="fixapi.html" class="btn btn-neutral" title="FIX API Specifications" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2019, Forex Capital Markets, fxcm.com/uk/

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
    

  

  <script type="text/javascript" src="../_static/js/theme.js"></script>

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>